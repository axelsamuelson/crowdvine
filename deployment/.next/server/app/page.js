(()=>{var e={};e.id=8974,e.ids=[8974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12872:(e,t,r)=>{"use strict";r.d(t,{AddToCart:()=>x,AddToCartButton:()=>f});var s=r(60687),a=r(1303),i=r(43210),n=r(9374),o=r(24934),l=r(39131),c=r(16189),d=r(88920),u=r(92576),p=r(92251);let m=e=>({id:e.id,title:e.title,availableForSale:e.availableForSale,selectedOptions:[],price:e.priceRange.minVariantPrice});function f({product:e,selectedVariant:t,className:r,iconOnly:l=!1,icon:c=(0,s.jsx)(a.A,{}),...f}){let{addItem:x}=(0,n._)(),[h,v]=(0,i.useTransition)(),g=(0,i.useMemo)(()=>t||(0===e.variants.length?m(e):1===e.variants.length?e.variants[0]:void 0),[t,e]),b=()=>e.availableForSale?g?"Add To Cart":"Select one":"Out Of Stock",j=!e.availableForSale||!g||h,y=()=>{let e=f.size;return"sm"===e||"icon-sm"===e||"icon"===e?"sm":"icon-lg"===e?"default":"lg"===e?"lg":"default"};return(0,s.jsx)("form",{onSubmit:t=>{t.preventDefault(),g&&v(async()=>{x(g,e)})},className:r,children:(0,s.jsx)(o.$,{type:"submit","aria-label":g?"Add to cart":"Select one",disabled:j,className:l?void 0:"flex relative justify-between items-center w-full",...f,children:(0,s.jsx)(d.N,{initial:!1,mode:"wait",children:l?(0,s.jsx)(u.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},className:"flex justify-center items-center",children:h?(0,s.jsx)(p.a,{size:y()}):(0,s.jsx)("span",{className:"inline-block",children:c})},h?"loading":"icon"):(0,s.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex justify-center items-center w-full",children:h?(0,s.jsx)(p.a,{size:y()}):(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,s.jsx)("span",{children:b()}),(0,s.jsx)(a.A,{})]})},h?"loading":b())})})})}function x({product:e,className:t,iconOnly:r=!1,icon:n=(0,s.jsx)(a.A,{}),...o}){let{variants:d}=e,u=(0,l.Y)(e),p=(0,c.useParams)(),x=(0,c.useSearchParams)(),h=0===d.length,v=1===d.length?d[0]?.id:void 0,g=u?.id||v,b=p.handle===e.id||x.get("pid")===e.id,j=(0,i.useMemo)(()=>h?m(e):b||v?d.find(e=>e.id===g):void 0,[h,e,b,v,d,g]);return(0,s.jsx)(f,{product:e,selectedVariant:j,className:t,iconOnly:r,icon:n,...o})}},12918:(e,t,r)=>{"use strict";r.d(t,{AddToCart:()=>i,AddToCartButton:()=>a});var s=r(12907);let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call AddToCartButton() from the server but AddToCartButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/cart/add-to-cart.tsx","AddToCartButton"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call AddToCart() from the server but AddToCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/cart/add-to-cart.tsx","AddToCart")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44879:(e,t,r)=>{Promise.resolve().then(r.bind(r,12918)),Promise.resolve().then(r.bind(r,33832)),Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.t.bind(r,49603,23))},53127:(e,t,r)=>{Promise.resolve().then(r.bind(r,12872)),Promise.resolve().then(r.bind(r,18098)),Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.t.bind(r,46533,23))},53251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>a.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>s.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>s.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>s.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>s.fk});var s=r(45063),a=r(23234)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63587:(e,t,r)=>{"use strict";r.d(t,{X_:()=>d,d$:()=>o,ld:()=>u,oo:()=>l,qw:()=>c});var s=r(33599);let a=process.env.APP_URL||"http://localhost:3000",i={products:`${a}/api/crowdvine/products`,product:e=>`${a}/api/crowdvine/products/${e}`,collections:`${a}/api/crowdvine/collections`,collectionProducts:e=>`${a}/api/crowdvine/collections/${e}/products`,cartCreate:`${a}/api/crowdvine/cart`,cartAdd:e=>`${a}/api/crowdvine/cart/${e}/lines/add`,cartUpdate:e=>`${a}/api/crowdvine/cart/${e}/lines/update`,cartRemove:e=>`${a}/api/crowdvine/cart/${e}/lines/remove`};async function n(e){if(!e.ok)throw Error(`API ${e.status}`);return e.json()}async function o(e){let t=new URL(i.products);return e?.limit&&t.searchParams.set("limit",e.limit.toString()),e?.query&&t.searchParams.set("query",e.query),e?.sortKey&&t.searchParams.set("sortKey",e.sortKey),e?.reverse&&t.searchParams.set("reverse",e.reverse.toString()),n(await fetch(t.toString(),{next:{tags:[s.gp.products]}}))}async function l(e){try{return await n(await fetch(i.product(e)))}catch{return null}}async function c(){return n(await fetch(i.collections,{next:{tags:[s.gp.collections]}}))}async function d(e){try{return(await c()).find(t=>t.handle===e)||null}catch{return null}}async function u(e){let t=await d(e.collection);if(!t)return console.error(`Collection not found for handle: ${e.collection}`),[];let r=new URL(i.collectionProducts(t.id));return e?.limit&&r.searchParams.set("limit",e.limit.toString()),e?.query&&r.searchParams.set("query",e.query),e?.sortKey&&r.searchParams.set("sortKey",e.sortKey),e?.reverse&&r.searchParams.set("reverse",e.reverse.toString()),n(await fetch(r.toString(),{next:{tags:[s.gp.products]}}))}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},84567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,87606)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,90253))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,90253))).default(e)],twitter:[],manifest:void 0}}]}.children,d=["/Users/axelsamuelson/Downloads/crowdvine_01/app/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},87606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(37413),a=r(90364),i=r(38939);async function n({collections:e}){let[t,r,n,o]=await Promise.all([(0,i.Nv)("homepage_hero_title"),(0,i.Nv)("homepage_hero_subtitle"),(0,i.Nv)("homepage_hero_description_1"),(0,i.Nv)("homepage_hero_description_2")]);return(0,s.jsxs)("aside",{className:"max-md:hidden col-span-4 h-screen sticky top-0 p-sides pt-top-spacing flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[t&&(0,s.jsx)("p",{className:"italic tracking-tighter text-base",children:t}),(r||n||o)&&(0,s.jsxs)("div",{className:"mt-5 text-base leading-tight",children:[r&&(0,s.jsx)("p",{children:r}),n&&(0,s.jsx)("p",{children:n}),o&&(0,s.jsx)("p",{children:o})]})]}),(0,s.jsx)(a.e,{collections:e})]})}var o=r(66503),l=r(66819),c=r(53384),d=r(99455),u=r(12918),p=r(61120),m=r(4536),f=r.n(m);function x({product:e,principal:t=!1,className:r}){return t?(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-col grid-cols-2 gap-y-3 p-4 w-full bg-white md:w-fit md:rounded-md md:grid",r),children:[(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(d.E,{className:"font-black capitalize rounded-full",children:"Best Seller"})}),(0,s.jsx)(f(),{href:`/product/${e.handle}`,className:"col-span-1 self-start text-2xl font-semibold",children:e.title}),(0,s.jsxs)("div",{className:"col-span-1 mb-10",children:[e.tags.length>0?(0,s.jsx)("p",{className:"mb-3 text-sm italic font-medium",children:e.tags.join(". ")}):null,(0,s.jsx)("p",{className:"text-sm font-medium line-clamp-3",children:e.description})]}),(0,s.jsxs)("div",{className:"flex col-span-1 gap-3 items-center text-2xl font-semibold md:self-end",children:["$",Number(e.priceRange.minVariantPrice.amount),e.compareAtPrice&&(0,s.jsxs)("span",{className:"line-through opacity-30",children:["$",Number(e.compareAtPrice.amount)]})]}),(0,s.jsx)(p.Suspense,{fallback:(0,s.jsx)(u.AddToCartButton,{className:"flex gap-20 justify-between pr-2",size:"lg",product:e}),children:(0,s.jsx)(u.AddToCart,{className:"flex gap-20 justify-between pr-2",size:"lg",product:e})})]}):(0,s.jsxs)("div",{className:(0,l.cn)("flex gap-2 items-center p-2 pl-8 bg-white rounded-md max-w-full",r),children:[(0,s.jsxs)("div",{className:"pr-6 leading-4 overflow-hidden",children:[(0,s.jsx)(f(),{href:`/product/${e.handle}`,className:"inline-block w-full truncate text-base font-semibold opacity-80 mb-1.5",children:e.title}),(0,s.jsxs)("div",{className:"flex gap-2 items-center text-base font-semibold",children:["$",Number(e.priceRange.minVariantPrice.amount),e.compareAtPrice&&(0,s.jsxs)("span",{className:"text-sm line-through opacity-30",children:["$",Number(e.compareAtPrice.amount)]})]})]}),(0,s.jsx)(p.Suspense,{fallback:(0,s.jsx)(u.AddToCartButton,{product:e,iconOnly:!0,variant:"default",size:"icon-lg"}),children:(0,s.jsx)(u.AddToCart,{product:e,iconOnly:!0,variant:"default",size:"icon-lg"})})]})}function h({product:e,principal:t=!1,className:r,labelPosition:a="bottom-right"}){let i=e.featuredImage&&e.featuredImage.url;return t?(0,s.jsxs)("div",{className:(0,l.cn)("min-h-fold flex flex-col relative",r),children:[(0,s.jsx)(f(),{href:`/product/${e.handle}`,className:"size-full flex-1 flex flex-col",prefetch:!0,children:i?(0,s.jsx)(c.default,{priority:!0,src:e.featuredImage.url,alt:e.featuredImage.altText||e.title,width:1e3,height:100,quality:100,className:"object-cover size-full flex-1"}):(0,s.jsx)("div",{className:"size-full flex-1 bg-muted flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"No image available"})})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 grid w-full grid-cols-4 gap-6 pointer-events-none max-md:contents p-sides",children:(0,s.jsx)(x,{className:"col-span-3 col-start-2 pointer-events-auto 2xl:col-start-3 2xl:col-span-2 shrink-0",product:e,principal:!0})})]}):(0,s.jsxs)("div",{className:(0,l.cn)("relative",r),children:[(0,s.jsx)(f(),{href:`/product/${e.handle}`,className:"block w-full aspect-square",prefetch:!0,children:i?(0,s.jsx)(c.default,{src:e.featuredImage.url,alt:e.featuredImage.altText||e.title,width:1e3,height:100,className:"object-cover size-full"}):(0,s.jsx)("div",{className:"size-full bg-muted flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"No image available"})})}),(0,s.jsx)("div",{className:(0,l.cn)("absolute flex p-sides inset-0 items-end justify-end","top-left"===a&&"md:justify-start md:items-start","top-right"===a&&"md:justify-end md:items-start","bottom-left"===a&&"md:justify-start md:items-end","bottom-right"===a&&"md:justify-end md:items-end"),children:(0,s.jsx)(x,{product:e})})]})}var v=r(63587);async function g(){let e=[];try{e=await (0,v.qw)()}catch(t){console.warn("Failed to fetch collections in home page:",t),e=[]}let t=[];try{t=e.length>0?await (0,v.d$)({limit:5,sortKey:"CREATED_AT",reverse:!0}):(await (0,v.d$)({})).slice(0,8)}catch(e){console.error("Error fetching featured products:",e);try{t=(await (0,v.d$)({})).slice(0,8)}catch(e){console.error("Error fetching fallback products:",e),t=[]}}let[r,...a]=t;return(0,s.jsx)(o.M,{children:(0,s.jsxs)("div",{className:"contents md:grid md:grid-cols-12 md:gap-sides",children:[(0,s.jsx)(n,{collections:e}),(0,s.jsxs)("div",{className:"flex relative flex-col grid-cols-2 col-span-8 w-full md:grid",children:[(0,s.jsx)("div",{className:"fixed top-0 left-0 z-10 w-full pointer-events-none base-grid py-sides",children:(0,s.jsx)("div",{className:"col-span-8 col-start-5",children:(0,s.jsx)("div",{className:"hidden px-6 lg:block",children:(0,s.jsx)(d.E,{variant:"outline-secondary",children:"latest drop"})})})}),t.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{className:"col-span-2",product:r,principal:!0}),a.map((e,t)=>(0,s.jsx)(h,{className:"col-span-1",product:e,labelPosition:(0,l.IR)(t)},e.id))]})]})]})})}},99455:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(37413);r(61120);var a=r(39724),i=r(50662),n=r(66819);let o=(0,i.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:r=!1,...i}){let l=r?a.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,n.cn)(o({variant:t}),e),...i})}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,3008,4999,4386,8167,6355,2351,2541,5258,6650],()=>r(84567));module.exports=s})();