(()=>{var e={};e.id=5861,e.ids=[5861],e.modules={163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(71042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3594:(e,t,r)=>{Promise.resolve().then(r.bind(r,51106)),Promise.resolve().then(r.bind(r,87845)),Promise.resolve().then(r.bind(r,12872)),Promise.resolve().then(r.bind(r,18098)),Promise.resolve().then(r.bind(r,39131)),Promise.resolve().then(r.bind(r,37906)),Promise.resolve().then(r.t.bind(r,85814,23))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12872:(e,t,r)=>{"use strict";r.d(t,{AddToCart:()=>h,AddToCartButton:()=>m});var n=r(60687),o=r(1303),i=r(43210),a=r(9374),s=r(24934),l=r(39131),c=r(16189),u=r(88920),d=r(92576),f=r(92251);let p=e=>({id:e.id,title:e.title,availableForSale:e.availableForSale,selectedOptions:[],price:e.priceRange.minVariantPrice});function m({product:e,selectedVariant:t,className:r,iconOnly:l=!1,icon:c=(0,n.jsx)(o.A,{}),...m}){let{addItem:h}=(0,a._)(),[g,x]=(0,i.useTransition)(),v=(0,i.useMemo)(()=>t||(0===e.variants.length?p(e):1===e.variants.length?e.variants[0]:void 0),[t,e]),b=()=>e.availableForSale?v?"Add To Cart":"Select one":"Out Of Stock",y=!e.availableForSale||!v||g,w=()=>{let e=m.size;return"sm"===e||"icon-sm"===e||"icon"===e?"sm":"icon-lg"===e?"default":"lg"===e?"lg":"default"};return(0,n.jsx)("form",{onSubmit:t=>{t.preventDefault(),v&&x(async()=>{h(v,e)})},className:r,children:(0,n.jsx)(s.$,{type:"submit","aria-label":v?"Add to cart":"Select one",disabled:y,className:l?void 0:"flex relative justify-between items-center w-full",...m,children:(0,n.jsx)(u.N,{initial:!1,mode:"wait",children:l?(0,n.jsx)(d.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},className:"flex justify-center items-center",children:g?(0,n.jsx)(f.a,{size:w()}):(0,n.jsx)("span",{className:"inline-block",children:c})},g?"loading":"icon"):(0,n.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex justify-center items-center w-full",children:g?(0,n.jsx)(f.a,{size:w()}):(0,n.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,n.jsx)("span",{children:b()}),(0,n.jsx)(o.A,{})]})},g?"loading":b())})})})}function h({product:e,className:t,iconOnly:r=!1,icon:a=(0,n.jsx)(o.A,{}),...s}){let{variants:u}=e,d=(0,l.Y)(e),f=(0,c.useParams)(),h=(0,c.useSearchParams)(),g=0===u.length,x=1===u.length?u[0]?.id:void 0,v=d?.id||x,b=f.handle===e.id||h.get("pid")===e.id,y=(0,i.useMemo)(()=>g?p(e):b||x?u.find(e=>e.id===v):void 0,[g,e,b,x,u,v]);return(0,n.jsx)(m,{product:e,selectedVariant:y,className:t,iconOnly:r,icon:a,...s})}},12918:(e,t,r)=>{"use strict";r.d(t,{AddToCart:()=>i,AddToCartButton:()=>o});var n=r(12907);let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call AddToCartButton() from the server but AddToCartButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/cart/add-to-cart.tsx","AddToCartButton"),i=(0,n.registerClientReference)(function(){throw Error("Attempted to call AddToCart() from the server but AddToCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/cart/add-to-cart.tsx","AddToCart")},15086:(e,t,r)=>{"use strict";r.d(t,{$x:()=>n});let n={ids:"crowdvine-campaigns",rootCategoryId:"all-wines"}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26373:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(61120);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c,...u},d)=>(0,n.createElement)("svg",{ref:d,...a,width:t,height:t,stroke:e,strokeWidth:o?24*Number(r)/Number(t):r,className:i("lucide",s),...u},[...c.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,n.forwardRef)(({className:r,...a},l)=>(0,n.createElement)(s,{ref:l,iconNode:t,className:i(`lucide-${o(e)}`,r),...a}));return r.displayName=`${e}`,r}},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37906:(e,t,r)=>{"use strict";r.d(t,{WineBoxDiscountInfo:()=>s});var n=r(60687),o=r(53976),i=r(55192),a=r(59821);function s({product:e}){if("wine-box"!==e.productType||!e.discountInfo)return null;let t=e.discountInfo,r=t.wines||[];return(0,n.jsxs)(i.Zp,{className:"mt-6",children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,n.jsxs)(a.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[Math.round(t.discountPercentage),"% OFF"]}),"Discount Details"]})}),(0,n.jsxs)(i.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Individual Price:"}),(0,n.jsx)("div",{className:"font-semibold",children:(0,o.$g)(Math.round(t.totalWinePrice).toString(),"SEK")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"You Save:"}),(0,n.jsx)("div",{className:"font-semibold text-green-600",children:(0,o.$g)(Math.round(t.discountAmount).toString(),"SEK")})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-muted-foreground text-sm",children:"Wines included:"}),(0,n.jsx)("div",{className:"mt-2 space-y-1",children:r.map((e,t)=>(0,n.jsxs)("div",{className:"text-sm",children:["â€¢ ",e.wine_name," ",e.vintage," - ",(0,o.$g)(e.price.toFixed(2),"SEK")]},t))})]})]})]})}},39724:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var n=r(61120);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(37413),a=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){var a;let e,s;let l=(a=r,(s=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(s=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...e)=>{let t=i(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...i}:"className"===n&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(c.ref=t?function(...e){return t=>{let r=!1,n=e.map(e=>{let n=o(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():o(e[t],null)}}}}(t,l):l),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:o,...a}=e,s=n.Children.toArray(o),c=s.find(l);if(c){let e=c.props.children,o=s.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,o):null})}return(0,i.jsx)(t,{...a,ref:r,children:o})});return r.displayName=`${e}.Slot`,r}("Slot"),s=Symbol("radix.slottable");function l(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s}},39916:(e,t,r)=>{"use strict";var n=r(97576);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},48976:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51106:(e,t,r)=>{"use strict";r.d(t,{DesktopGallery:()=>a});var n=r(60687),o=r(39131),i=r(30474);let a=({product:e})=>{let t=(0,o.Y)(e),r=(0,o.x)(e,t?.selectedOptions);return r&&0!==r.length?(0,n.jsx)(n.Fragment,{children:r.map(t=>t&&t.url?(0,n.jsx)(i.default,{style:{aspectRatio:`${t.width} / ${t.height}`},src:t.url,alt:t.altText||e.title,width:t.width||600,height:t.height||600,className:"w-full object-cover",quality:100},`${t.url}-${t.selectedOptions?.map((e,t)=>`${e.name},${e.value}`).join("-")||t.id||t.url}`):null)}):null}},53251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>o.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>n.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>n.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>n.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>n.fk});var n=r(45063),o=r(23234)},53709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k,generateMetadata:()=>A,generateStaticParams:()=>N,revalidate:()=>D});var n=r(37413),o=r(39916),i=r(63587),a=r(33599),s=r(61120),l=r(39724);let c=(0,r(26373).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var u=r(66819);function d({...e}){return(0,n.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function f({className:e,...t}){return(0,n.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,u.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function p({className:e,...t}){return(0,n.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,u.cn)("inline-flex items-center gap-1.5",e),...t})}function m({asChild:e,className:t,...r}){let o=e?l.DX:"a";return(0,n.jsx)(o,{"data-slot":"breadcrumb-link",className:(0,u.cn)("hover:text-foreground transition-colors font-medium",t),...r})}function h({className:e,...t}){return(0,n.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,u.cn)("text-foreground font-semibold",e),...t})}function g({children:e,className:t,...r}){return(0,n.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,u.cn)("[&>svg]:size-3.5",t),...r,children:e??(0,n.jsx)(c,{})})}var x=r(4536),v=r.n(x),b=r(53557),y=r(12918),w=r(15086);let j=({html:e,className:t})=>(0,n.jsx)("div",{className:(0,u.cn)("prose prose-sm text-xs leading-tight max-w-6xl prose-li:marker:text-current text-foreground prose-headings:mt-8 prose-headings:font-semibold prose-headings:tracking-wide prose-headings:text-foreground prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg prose-a:text-foreground prose-a:underline prose-a:hover:text-neutral-300 prose-strong:text-foreground prose-ol:mt-8 prose-ol:list-decimal prose-ol:pl-6 prose-ul:mt-8 prose-ul:list-disc prose-ul:pl-6",t),dangerouslySetInnerHTML:{__html:e}});var _=r(76034),E=r(66503),R=r(79909);function P({product:e}){let{options:t}=e;return t.length&&(1!==t.length||t[0]?.values.length!==1)?(0,n.jsx)(n.Fragment,{children:t.map(t=>(0,n.jsx)(R.VariantOptionSelector,{option:t,product:e,variant:"card"},t.id))}):null}var O=r(92737),C=r(69359),S=r(59516);async function N(){try{let e=await (0,i.d$)({limit:100}),t=await (0,i.ld)({collection:"wine-boxes-collection",limit:50});return[...e,...t].map(e=>({handle:e.handle}))}catch(e){return console.error("Error generating static params for products:",e),[]}}let D=60;async function A(e){let t=await e.params,r=await (0,i.oo)(t.handle);if(!r)return(0,o.notFound)();let{url:n,width:s,height:l,altText:c}=r.featuredImage||{},u=!r.tags.includes(a.eJ);return{title:r.seo.title||r.title,description:r.seo.description||r.description,robots:{index:u,follow:u,googleBot:{index:u,follow:u}},openGraph:n?{images:[{url:n,width:s,height:l,alt:c}]}:null}}async function k(e){let t=await e.params,r=await (0,i.oo)(t.handle);if(!r)return(0,o.notFound)();let a=r.categoryId?await (0,i.X_)(r.categoryId):null,l={"@context":"https://schema.org","@type":"Product",name:r.title,description:r.description,image:r.featuredImage.url,offers:{"@type":"AggregateOffer",availability:r.availableForSale?"https://schema.org/InStock":"https://schema.org/OutOfStock",priceCurrency:r.currencyCode,highPrice:r.priceRange.maxVariantPrice.amount,lowPrice:r.priceRange.minVariantPrice.amount}},[c]=a?.parentCategoryTree.filter(e=>e.id!==w.$x.rootCategoryId)??[void 0],x=r.variants.length>1,R=r.options.length%2==0;return(0,n.jsxs)(E.M,{className:"bg-muted",children:[(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(l)}}),(0,n.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-12 md:gap-sides min-h-max",children:[(0,n.jsx)("div",{className:"md:hidden col-span-full h-[60vh] min-h-[400px]",children:(0,n.jsx)(s.Suspense,{fallback:null,children:(0,n.jsx)(O.MobileGallerySlider,{product:r})})}),(0,n.jsxs)("div",{className:"flex sticky top-0 flex-col col-span-5 2xl:col-span-4 max-md:col-span-full md:h-screen min-h-max max-md:p-sides md:pl-sides md:pt-top-spacing max-md:static",children:[(0,n.jsxs)("div",{className:"col-span-full",children:[(0,n.jsx)(d,{className:"col-span-full mb-4 md:mb-8",children:(0,n.jsxs)(f,{children:[(0,n.jsx)(p,{children:(0,n.jsx)(m,{asChild:!0,children:(0,n.jsx)(v(),{href:"/shop",prefetch:!0,children:"Shop"})})}),"wine-box"===r.productType?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{}),(0,n.jsx)(p,{children:(0,n.jsx)(m,{asChild:!0,children:(0,n.jsx)(v(),{href:"/shop/wine-boxes",prefetch:!0,children:"Wine Boxes"})})})]}):c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{}),(0,n.jsx)(p,{children:(0,n.jsx)(m,{asChild:!0,children:(0,n.jsx)(v(),{href:`/shop/${c.id}`,prefetch:!0,children:c.name})})})]}):null,(0,n.jsx)(g,{}),(0,n.jsx)(p,{children:(0,n.jsx)(h,{children:r.title})})]})}),(0,n.jsxs)("div",{className:"flex flex-col col-span-full gap-4 md:mb-10 max-md:order-2",children:[(0,n.jsxs)("div",{className:"flex flex-col grid-cols-2 px-3 py-2 rounded-md bg-popover md:grid md:gap-x-4 md:gap-y-10 place-items-baseline",children:[(0,n.jsx)("h1",{className:"text-lg font-semibold lg:text-xl 2xl:text-2xl text-balance max-md:mb-4",children:r.title}),(0,n.jsx)("p",{className:"text-sm font-medium",children:r.description}),(0,n.jsxs)("p",{className:"flex gap-3 items-center text-lg font-semibold lg:text-xl 2xl:text-2xl max-md:mt-8",children:[(0,_.$g)(r.priceRange.minVariantPrice.amount,r.priceRange.minVariantPrice.currencyCode),r.compareAtPrice&&(0,n.jsx)("span",{className:"line-through opacity-30",children:(0,_.$g)(r.compareAtPrice.amount,r.compareAtPrice.currencyCode)})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"}),children:(0,n.jsx)(P,{product:r})}),(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)(y.AddToCartButton,{className:(0,u.cn)("w-full",{"col-span-full":!x||R}),product:r,size:"lg"}),children:(0,n.jsx)(y.AddToCart,{product:r,size:"lg",className:(0,u.cn)("w-full",{"col-span-full":!x||R})})})]})]})]}),(0,n.jsx)(j,{className:"col-span-full mb-auto opacity-70 max-md:order-3 max-md:my-6",html:r.descriptionHtml}),(0,n.jsx)(S.WineBoxDiscountInfo,{product:r}),(0,n.jsx)(b.U,{className:"flex-col-reverse max-md:hidden py-sides w-full max-w-[408px] pr-sides max-md:pr-0 max-md:py-0"})]}),(0,n.jsx)("div",{className:"hidden overflow-y-auto relative col-span-7 col-start-6 w-full md:block",children:(0,n.jsx)(s.Suspense,{fallback:null,children:(0,n.jsx)(C.DesktopGallery,{product:r})})})]})]})}},55192:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>u,ZB:()=>l,Zp:()=>a,aR:()=>s});var n=r(60687),o=r(43210),i=r(96241);let a=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-md bg-card text-card-foreground",e),...t}));a.displayName="Card";let s=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-4",e),...t}));s.displayName="CardHeader";let l=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("font-semibold text-lg leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let u=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-4 pt-0",e),...t}));u.displayName="CardContent",o.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56159:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>c});var n=r(65239),o=r(48088),i=r(88170),a=r.n(i),s=r(30893),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let c={children:["",{children:["product",{children:["[handle]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53709)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/product/[handle]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,90253))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,90253))).default(e)],twitter:[],manifest:void 0}}]}.children,u=["/Users/axelsamuelson/Downloads/crowdvine_01/app/product/[handle]/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/product/[handle]/page",pathname:"/product/[handle]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},59516:(e,t,r)=>{"use strict";r.d(t,{WineBoxDiscountInfo:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call WineBoxDiscountInfo() from the server but WineBoxDiscountInfo is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/products/wine-box-discount-info.tsx","WineBoxDiscountInfo")},59821:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var n=r(60687);r(43210);var o=r(11329),i=r(24224),a=r(96241);let s=(0,i.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:r=!1,...i}){let l=r?o.DX:"span";return(0,n.jsx)(l,{"data-slot":"badge",className:(0,a.cn)(s({variant:t}),e),...i})}},62765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63587:(e,t,r)=>{"use strict";r.d(t,{X_:()=>u,d$:()=>s,ld:()=>d,oo:()=>l,qw:()=>c});var n=r(33599);let o=process.env.APP_URL||"http://localhost:3000",i={products:`${o}/api/crowdvine/products`,product:e=>`${o}/api/crowdvine/products/${e}`,collections:`${o}/api/crowdvine/collections`,collectionProducts:e=>`${o}/api/crowdvine/collections/${e}/products`,cartCreate:`${o}/api/crowdvine/cart`,cartAdd:e=>`${o}/api/crowdvine/cart/${e}/lines/add`,cartUpdate:e=>`${o}/api/crowdvine/cart/${e}/lines/update`,cartRemove:e=>`${o}/api/crowdvine/cart/${e}/lines/remove`};async function a(e){if(!e.ok)throw Error(`API ${e.status}`);return e.json()}async function s(e){let t=new URL(i.products);return e?.limit&&t.searchParams.set("limit",e.limit.toString()),e?.query&&t.searchParams.set("query",e.query),e?.sortKey&&t.searchParams.set("sortKey",e.sortKey),e?.reverse&&t.searchParams.set("reverse",e.reverse.toString()),a(await fetch(t.toString(),{next:{tags:[n.gp.products]}}))}async function l(e){try{return await a(await fetch(i.product(e)))}catch{return null}}async function c(){return a(await fetch(i.collections,{next:{tags:[n.gp.collections]}}))}async function u(e){try{return(await c()).find(t=>t.handle===e)||null}catch{return null}}async function d(e){let t=await u(e.collection);if(!t)return console.error(`Collection not found for handle: ${e.collection}`),[];let r=new URL(i.collectionProducts(t.id));return e?.limit&&r.searchParams.set("limit",e.limit.toString()),e?.query&&r.searchParams.set("query",e.query),e?.sortKey&&r.searchParams.set("sortKey",e.sortKey),e?.reverse&&r.searchParams.set("reverse",e.reverse.toString()),a(await fetch(r.toString(),{next:{tags:[n.gp.products]}}))}},69359:(e,t,r)=>{"use strict";r.d(t,{DesktopGallery:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call DesktopGallery() from the server but DesktopGallery is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/product/[handle]/components/desktop-gallery.tsx","DesktopGallery")},70899:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,s.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(68388),o=r(52637),i=r(51846),a=r(31162),s=r(84971),l=r(98479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74075:e=>{"use strict";e.exports=require("zlib")},76034:(e,t,r)=>{"use strict";r.d(t,{$g:()=>n,RM:()=>o});let n=(e,t)=>{let r=Math.ceil("string"==typeof e?parseFloat(e):e);return new Intl.NumberFormat("sv-SE",{style:"currency",currency:t,currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)};function o(e,t="product"){switch(e){case"price-asc":return{sortKey:"PRICE",reverse:!1};case"price-desc":return{sortKey:"PRICE",reverse:!0};case"newest":if("collection"===t)return{sortKey:"CREATED",reverse:!1};return{sortKey:"CREATED_AT",reverse:!1};case"oldest":if("collection"===t)return{sortKey:"CREATED",reverse:!0};return{sortKey:"CREATED_AT",reverse:!0};default:return{sortKey:"RELEVANCE",reverse:!1}}}},76926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(61120));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}let i={current:null},a="function"==typeof n.cache?n.cache:e=>e,s=console.warn;function l(e){return function(...t){s(e(...t))}}a(e=>{try{s(i.current)}finally{i.current=null}})},79551:e=>{"use strict";e.exports=require("url")},79909:(e,t,r)=>{"use strict";r.d(t,{VariantOptionSelector:()=>o});var n=r(12907);let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call VariantOptionSelector() from the server but VariantOptionSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/products/variant-selector.tsx","VariantOptionSelector");(0,n.registerClientReference)(function(){throw Error("Attempted to call useSelectedVariant() from the server but useSelectedVariant is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/products/variant-selector.tsx","useSelectedVariant"),(0,n.registerClientReference)(function(){throw Error("Attempted to call useProductImages() from the server but useProductImages is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/products/variant-selector.tsx","useProductImages")},81630:e=>{"use strict";e.exports=require("http")},85442:(e,t,r)=>{Promise.resolve().then(r.bind(r,69359)),Promise.resolve().then(r.bind(r,92737)),Promise.resolve().then(r.bind(r,12918)),Promise.resolve().then(r.bind(r,33832)),Promise.resolve().then(r.bind(r,79909)),Promise.resolve().then(r.bind(r,59516)),Promise.resolve().then(r.t.bind(r,4536,23))},86897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return s}});let n=r(52836),o=r(49026),i=r(19121).actionAsyncStorage;function a(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let i=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",i}function s(e,t){var r;throw null!=t||(t=(null==i?void 0:null==(r=i.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),a(e,t,n.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=o.RedirectType.replace),a(e,t,n.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function d(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87845:(e,t,r)=>{"use strict";r.d(t,{MobileGallerySlider:()=>N});var n=r(60687),o=r(43210),i=r(30474);function a(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function s(e,t){let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&r.every(r=>{let n=e[r],o=t[r];return"function"==typeof n?`${n}`==`${o}`:a(n)&&a(o)?s(n,o):n===o})}function l(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function c(e){return"number"==typeof e}function u(e){return"string"==typeof e}function d(e){return"boolean"==typeof e}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e){return Math.abs(e)}function m(e){return Math.sign(e)}function h(e){return b(e).map(Number)}function g(e){return e[x(e)]}function x(e){return Math.max(0,e.length-1)}function v(e,t=0){return Array.from(Array(e),(e,r)=>t+r)}function b(e){return Object.keys(e)}function y(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function w(){let e=[],t={add:function(r,n,o,i={passive:!0}){let a;return"addEventListener"in r?(r.addEventListener(n,o,i),a=()=>r.removeEventListener(n,o,i)):(r.addListener(o),a=()=>r.removeListener(o)),e.push(a),t},clear:function(){e=e.filter(e=>e())}};return t}function j(e=0,t=0){let r=p(e-t);function n(r){return r<e||r>t}return{length:r,max:t,min:e,constrain:function(r){return n(r)?r<e?e:t:r},reachedAny:n,reachedMax:function(e){return e>t},reachedMin:function(t){return t<e},removeOffset:function(e){return r?e-r*Math.ceil((e-t)/r):e}}}function _(e){let t=e;function r(e){return c(e)?e:e.get()}return{get:function(){return t},set:function(e){t=r(e)},add:function(e){t+=r(e)},subtract:function(e){t-=r(e)}}}function E(e,t){let r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},n=t.style,o=null,i=!1;return{clear:function(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(i)return;let a=Math.round(100*e.direction(t))/100;a!==o&&(n.transform=r(a),o=a)},toggleActive:function(e){i=!e}}}let R={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function P(e,t,r){let n,o,i,a,s;let l=e.ownerDocument,O=l.defaultView,C=function(e){function t(e,t){return function e(t,r){return[t,r].reduce((t,r)=>(b(r).forEach(n=>{let o=t[n],i=r[n],a=f(o)&&f(i);t[n]=a?e(o,i):i}),t),{})}(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(r){let n=r.breakpoints||{},o=b(n).filter(t=>e.matchMedia(t).matches).map(e=>n[e]).reduce((e,r)=>t(e,r),{});return t(r,o)},optionsMediaQueries:function(t){return t.map(e=>b(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}}}(O),S=(s=[],{init:function(e,t){return(s=t.filter(({options:e})=>!1!==C.optionsAtMedia(e).active)).forEach(t=>t.init(e,C)),t.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){s=s.filter(e=>e.destroy())}}),N=w(),D=function(){let e,t={},r={init:function(t){e=t},emit:function(n){return(t[n]||[]).forEach(t=>t(e,n)),r},off:function(e,n){return t[e]=(t[e]||[]).filter(e=>e!==n),r},on:function(e,n){return t[e]=(t[e]||[]).concat([n]),r},clear:function(){t={}}};return r}(),{mergeOptions:A,optionsAtMedia:k,optionsMediaQueries:M}=C,{on:T,off:I,emit:F}=D,$=!1,L=A(R,P.globalOptions),B=A(L),q=[];function V(t,r){!$&&(B=k(L=A(L,t)),q=r||q,function(){let{container:t,slides:r}=B;i=(u(t)?e.querySelector(t):t)||e.children[0];let n=u(r)?i.querySelectorAll(r):r;a=[].slice.call(n||i.children)}(),n=function t(r){let n=function(e,t,r,n,o,i,a){let s,l;let{align:f,axis:R,direction:P,startIndex:O,loop:C,duration:S,dragFree:N,dragThreshold:D,inViewThreshold:A,slidesToScroll:k,skipSnaps:M,containScroll:T,watchResize:I,watchSlides:F,watchDrag:$,watchFocus:L}=i,B={measure:function(e){let{offsetTop:t,offsetLeft:r,offsetWidth:n,offsetHeight:o}=e;return{top:t,right:r+n,bottom:t+o,left:r,width:n,height:o}}},q=B.measure(t),V=r.map(B.measure),U=function(e,t){let r="rtl"===t,n="y"===e,o=!n&&r?-1:1;return{scroll:n?"y":"x",cross:n?"x":"y",startEdge:n?"top":r?"right":"left",endEdge:n?"bottom":r?"left":"right",measureSize:function(e){let{height:t,width:r}=e;return n?t:r},direction:function(e){return e*o}}}(R,P),z=U.measureSize(q),K={measure:function(e){return e/100*z}},W=function(e,t){let r={start:function(){return 0},center:function(e){return(t-e)/2},end:function(e){return t-e}};return{measure:function(n,o){return u(e)?r[e](n):e(t,n,o)}}}(f,z),G=!C&&!!T,{slideSizes:H,slideSizesWithGaps:X,startGap:Z,endGap:Y}=function(e,t,r,n,o,i){let{measureSize:a,startEdge:s,endEdge:l}=e,c=r[0]&&o,u=function(){if(!c)return 0;let e=r[0];return p(t[s]-e[s])}(),d=c?parseFloat(i.getComputedStyle(g(n)).getPropertyValue(`margin-${l}`)):0,f=r.map(a),m=r.map((e,t,r)=>{let n=t===x(r);return t?n?f[t]+d:r[t+1][s]-e[s]:f[t]+u}).map(p);return{slideSizes:f,slideSizesWithGaps:m,startGap:u,endGap:d}}(U,q,V,r,C||!!T,o),J=function(e,t,r,n,o,i,a,s,l){let{startEdge:u,endEdge:d,direction:f}=e,m=c(r);return{groupSlides:function(e){return m?h(e).filter(e=>e%r==0).map(t=>e.slice(t,t+r)):e.length?h(e).reduce((r,l,c)=>{let m=g(r)||0,h=l===x(e),v=o[u]-i[m][u],b=o[u]-i[l][d],y=n||0!==m?0:f(a),w=p(b-(!n&&h?f(s):0)-(v+y));return c&&w>t+2&&r.push(l),h&&r.push(e.length),r},[]).map((t,r,n)=>{let o=Math.max(n[r-1]||0);return e.slice(o,t)}):[]}}}(U,z,k,C,q,V,Z,Y,0),{snaps:Q,snapsAligned:ee}=function(e,t,r,n,o){let{startEdge:i,endEdge:a}=e,{groupSlides:s}=o,l=s(n).map(e=>g(e)[a]-e[0][i]).map(p).map(t.measure),c=n.map(e=>r[i]-e[i]).map(e=>-p(e)),u=s(c).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:c,snapsAligned:u}}(U,W,q,V,J),et=-g(Q)+g(X),{snapsContained:er,scrollContainLimit:en}=function(e,t,r,n,o){let i=j(-t+e,0),a=r.map((e,t)=>{let{min:n,max:o}=i,a=i.constrain(e),s=t===x(r);return t?s||function(e,t){return 1>=p(e-t)}(n,a)?n:function(e,t){return 1>=p(e-t)}(o,a)?o:a:o}).map(e=>parseFloat(e.toFixed(3))),s=function(){let e=a[0],t=g(a);return j(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return 1>=p(e-t)}return{snapsContained:function(){if(t<=e+2)return[i.max];if("keepSnaps"===n)return a;let{min:r,max:o}=s;return a.slice(r,o)}(),scrollContainLimit:s}}(z,et,ee,T,0),eo=G?er:ee,{limit:ei}=function(e,t,r){let n=t[0];return{limit:j(r?n-e:g(t),n)}}(et,eo,C),ea=function e(t,r,n){let{constrain:o}=j(0,t),i=t+1,a=s(r);function s(e){return n?p((i+e)%i):o(e)}function l(){return e(t,a,n)}let c={get:function(){return a},set:function(e){return a=s(e),c},add:function(e){return l().set(a+e)},clone:l};return c}(x(eo),O,C),es=ea.clone(),el=h(r),ec=({dragHandler:e,scrollBody:t,scrollBounds:r,options:{loop:n}})=>{n||r.constrain(e.pointerDown()),t.seek()},eu=({scrollBody:e,translate:t,location:r,offsetLocation:n,previousLocation:o,scrollLooper:i,slideLooper:a,dragHandler:s,animation:l,eventHandler:c,scrollBounds:u,options:{loop:d}},f)=>{let p=e.settled(),m=!u.shouldConstrain(),h=d?p:p&&m,g=h&&!s.pointerDown();g&&l.stop();let x=r.get()*f+o.get()*(1-f);n.set(x),d&&(i.loop(e.direction()),a.loop()),t.to(n.get()),g&&c.emit("settle"),h||c.emit("scroll")},ed=function(e,t,r,n){let o=w(),i=1e3/60,a=null,s=0,l=0;function c(e){if(!l)return;a||(a=e,r(),r());let o=e-a;for(a=e,s+=o;s>=i;)r(),s-=i;n(s/i),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){o.add(e,"visibilitychange",()=>{e.hidden&&(a=null,s=0)})},destroy:function(){u(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:r,render:n}}(n,o,()=>ec(eR),e=>eu(eR,e)),ef=eo[ea.get()],ep=_(ef),em=_(ef),eh=_(ef),eg=_(ef),ex=function(e,t,r,n,o,i){let a=0,s=0,l=o,c=.68,u=e.get(),d=0;function f(e){return l=e,g}function h(e){return c=e,g}let g={direction:function(){return s},duration:function(){return l},velocity:function(){return a},seek:function(){let t=n.get()-e.get(),o=0;return l?(r.set(e),a+=t/l,a*=c,u+=a,e.add(a),o=u-d):(a=0,r.set(n),e.set(n),o=t),s=m(o),d=u,g},settled:function(){return .001>p(n.get()-t.get())},useBaseFriction:function(){return h(.68)},useBaseDuration:function(){return f(o)},useFriction:h,useDuration:f};return g}(ep,eh,em,eg,S,.68),ev=function(e,t,r,n,o){let{reachedAny:i,removeOffset:a,constrain:s}=n;function l(e){return e.concat().sort((e,t)=>p(e)-p(t))[0]}function c(t,n){let o=[t,t+r,t-r];if(!e)return t;if(!n)return l(o);let i=o.filter(e=>m(e)===n);return i.length?l(i):g(o)-r}return{byDistance:function(r,n){let l=o.get()+r,{index:u,distance:d}=function(r){let n=e?a(r):s(r),{index:o}=t.map((e,t)=>({diff:c(e-n,0),index:t})).sort((e,t)=>p(e.diff)-p(t.diff))[0];return{index:o,distance:n}}(l),f=!e&&i(l);if(!n||f)return{index:u,distance:r};let m=r+c(t[u]-d,0);return{index:u,distance:m}},byIndex:function(e,r){let n=c(t[e]-o.get(),r);return{index:e,distance:n}},shortcut:c}}(C,eo,et,ei,eg),eb=function(e,t,r,n,o,i,a){function s(o){let s=o.distance,l=o.index!==t.get();i.add(s),s&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(r.set(t.get()),t.set(o.index),a.emit("select"))}return{distance:function(e,t){s(o.byDistance(e,t))},index:function(e,r){let n=t.clone().set(e);s(o.byIndex(n.get(),r))}}}(ed,ea,es,ex,ev,eg,a),ey=function(e){let{max:t,length:r}=e;return{get:function(e){return r?-((e-t)/r):0}}}(ei),ew=w(),ej=function(e,t,r,n){let o;let i={},a=null,s=null,l=!1;return{init:function(){o=new IntersectionObserver(e=>{l||(e.forEach(e=>{i[t.indexOf(e.target)]=e}),a=null,s=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(e=>o.observe(e))},destroy:function(){o&&o.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&s)return s;let t=b(i).reduce((t,r)=>{let n=parseInt(r),{isIntersecting:o}=i[n];return(e&&o||!e&&!o)&&t.push(n),t},[]);return e&&(a=t),e||(s=t),t}}}(t,r,a,A),{slideRegistry:e_}=function(e,t,r,n,o,i){let{groupSlides:a}=o,{min:s,max:l}=n;return{slideRegistry:function(){let n=a(i);return 1===r.length?[i]:e&&"keepSnaps"!==t?n.slice(s,l).map((e,t,r)=>{let n=t===x(r);return t?n?v(x(i)-g(r)[0]+1,g(r)[0]):e:v(g(r[0])+1)}):n}()}}(G,T,eo,en,J,el),eE=function(e,t,r,n,o,i,a,s){let l={passive:!0,capture:!0},u=0;function f(e){"Tab"===e.code&&(u=new Date().getTime())}return{init:function(p){s&&(i.add(document,"keydown",f,!1),t.forEach((t,f)=>{i.add(t,"focus",t=>{(d(s)||s(p,t))&&function(t){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;let i=r.findIndex(e=>e.includes(t));c(i)&&(o.useDuration(0),n.index(i,0),a.emit("slideFocus"))}(f)},l)}))}}}(e,r,e_,eb,ex,ew,a,L),eR={ownerDocument:n,ownerWindow:o,eventHandler:a,containerRect:q,slideRects:V,animation:ed,axis:U,dragHandler:function(e,t,r,n,o,i,a,s,l,c,u,f,h,g,x,v,b,_,E){let{cross:R,direction:P}=e,O=["INPUT","SELECT","TEXTAREA"],C={passive:!1},S=w(),N=w(),D=j(50,225).constrain(g.measure(20)),A={mouse:300,touch:400},k={mouse:500,touch:600},M=x?43:25,T=!1,I=0,F=0,$=!1,L=!1,B=!1,q=!1;function V(e){if(!y(e,n)&&e.touches.length>=2)return U(e);let t=i.readPoint(e),r=i.readPoint(e,R),a=p(t-I),l=p(r-F);if(!L&&!q&&(!e.cancelable||!(L=a>l)))return U(e);let u=i.pointerMove(e);a>v&&(B=!0),c.useFriction(.3).useDuration(.75),s.start(),o.add(P(u)),e.preventDefault()}function U(e){let t=u.byDistance(0,!1).index!==f.get(),r=i.pointerUp(e)*(x?k:A)[q?"mouse":"touch"],n=function(e,t){let r=f.add(-1*m(e)),n=u.byDistance(e,!x).distance;return x||p(e)<D?n:b&&t?.5*n:u.byIndex(r.get(),0).distance}(P(r),t),o=function(e,t){var r,n;if(0===e||0===t||p(e)<=p(t))return 0;let o=(r=p(e),n=p(t),p(r-n));return p(o/e)}(r,n);L=!1,$=!1,N.clear(),c.useDuration(M-10*o).useFriction(.68+o/50),l.distance(n,!x),q=!1,h.emit("pointerUp")}function z(e){B&&(e.stopPropagation(),e.preventDefault(),B=!1)}return{init:function(e){E&&S.add(t,"dragstart",e=>e.preventDefault(),C).add(t,"touchmove",()=>void 0,C).add(t,"touchend",()=>void 0).add(t,"touchstart",s).add(t,"mousedown",s).add(t,"touchcancel",U).add(t,"contextmenu",U).add(t,"click",z,!0);function s(s){(d(E)||E(e,s))&&function(e){let s=y(e,n);q=s,B=x&&s&&!e.buttons&&T,T=p(o.get()-a.get())>=2,(!s||0===e.button)&&!function(e){let t=e.nodeName||"";return O.includes(t)}(e.target)&&($=!0,i.pointerDown(e),c.useFriction(0).useDuration(0),o.set(a),function(){let e=q?r:t;N.add(e,"touchmove",V,C).add(e,"touchend",U).add(e,"mousemove",V,C).add(e,"mouseup",U)}(),I=i.readPoint(e),F=i.readPoint(e,R),h.emit("pointerDown"))}(s)}},destroy:function(){S.clear(),N.clear()},pointerDown:function(){return $}}}(U,e,n,o,eg,function(e,t){let r,n;function o(e){return e.timeStamp}function i(r,n){let o=n||e.scroll,i=`client${"x"===o?"X":"Y"}`;return(y(r,t)?r:r.touches[0])[i]}return{pointerDown:function(e){return r=e,n=e,i(e)},pointerMove:function(e){let t=i(e)-i(n),a=o(e)-o(r)>170;return n=e,a&&(r=e),t},pointerUp:function(e){if(!r||!n)return 0;let t=i(n)-i(r),a=o(e)-o(r),s=o(e)-o(n)>170,l=t/a;return a&&!s&&p(l)>.1?l:0},readPoint:i}}(U,o),ep,ed,eb,ex,ev,ea,a,K,N,D,M,0,$),eventStore:ew,percentOfView:K,index:ea,indexPrevious:es,limit:ei,location:ep,offsetLocation:eh,previousLocation:em,options:i,resizeHandler:function(e,t,r,n,o,i,a){let s,l;let c=[e].concat(n),u=[],f=!1;function m(e){return o.measureSize(a.measure(e))}return{init:function(o){i&&(l=m(e),u=n.map(m),s=new ResizeObserver(r=>{(d(i)||i(o,r))&&function(r){for(let i of r){if(f)return;let r=i.target===e,a=n.indexOf(i.target),s=r?l:u[a];if(p(m(r?e:n[a])-s)>=.5){o.reInit(),t.emit("resize");break}}}(r)}),r.requestAnimationFrame(()=>{c.forEach(e=>s.observe(e))}))},destroy:function(){f=!0,s&&s.disconnect()}}}(t,a,o,r,U,I,B),scrollBody:ex,scrollBounds:function(e,t,r,n,o){let i=o.measure(10),a=o.measure(50),s=j(.1,.99),l=!1;function c(){return!!(!l&&e.reachedAny(r.get())&&e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(o){if(!c())return;let l=e.reachedMin(t.get())?"min":"max",u=p(e[l]-t.get()),d=r.get()-t.get(),f=s.constrain(u/a);r.subtract(d*f),!o&&p(d)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}(ei,eh,eg,ex,K),scrollLooper:function(e,t,r,n){let{reachedMin:o,reachedMax:i}=j(t.min+.1,t.max+.1);return{loop:function(t){if(!(1===t?i(r.get()):-1===t&&o(r.get())))return;let a=-1*t*e;n.forEach(e=>e.add(a))}}}(et,ei,eh,[ep,eh,em,eg]),scrollProgress:ey,scrollSnapList:eo.map(ey.get),scrollSnaps:eo,scrollTarget:ev,scrollTo:eb,slideLooper:function(e,t,r,n,o,i,a,s,l){let c=h(o),u=h(o).reverse(),d=m(p(u,a[0]),r,!1).concat(m(p(c,t-a[0]-1),-r,!0));function f(e,t){return e.reduce((e,t)=>e-o[t],t)}function p(e,t){return e.reduce((e,r)=>f(e,t)>0?e.concat([r]):e,[])}function m(o,a,c){let u=i.map((e,r)=>({start:e-n[r]+.5+a,end:e+t-.5+a}));return o.map(t=>{let n=c?0:-r,o=c?r:0,i=u[t][c?"end":"start"];return{index:t,loopPoint:i,slideLocation:_(-1),translate:E(e,l[t]),target:()=>s.get()>i?n:o}})}return{canLoop:function(){return d.every(({index:e})=>.1>=f(c.filter(t=>t!==e),t))},clear:function(){d.forEach(e=>e.translate.clear())},loop:function(){d.forEach(e=>{let{target:t,translate:r,slideLocation:n}=e,o=t();o!==n.get()&&(r.to(o),n.set(o))})},loopPoints:d}}(U,z,et,H,X,Q,eo,eh,r),slideFocus:eE,slidesHandler:(l=!1,{init:function(e){F&&(s=new MutationObserver(t=>{!l&&(d(F)||F(e,t))&&function(t){for(let r of t)if("childList"===r.type){e.reInit(),a.emit("slidesChanged");break}}(t)})).observe(t,{childList:!0})},destroy:function(){s&&s.disconnect(),l=!0}}),slidesInView:ej,slideIndexes:el,slideRegistry:e_,slidesToScroll:J,target:eg,translate:E(U,t)};return eR}(e,i,a,l,O,r,D);return r.loop&&!n.slideLooper.canLoop()?t(Object.assign({},r,{loop:!1})):n}(B),M([L,...q.map(({options:e})=>e)]).forEach(e=>N.add(e,"change",U)),B.active&&(n.translate.to(n.location.get()),n.animation.init(),n.slidesInView.init(),n.slideFocus.init(G),n.eventHandler.init(G),n.resizeHandler.init(G),n.slidesHandler.init(G),n.options.loop&&n.slideLooper.loop(),i.offsetParent&&a.length&&n.dragHandler.init(G),o=S.init(G,q)))}function U(e,t){let r=W();z(),V(A({startIndex:r},e),t),D.emit("reInit")}function z(){n.dragHandler.destroy(),n.eventStore.clear(),n.translate.clear(),n.slideLooper.clear(),n.resizeHandler.destroy(),n.slidesHandler.destroy(),n.slidesInView.destroy(),n.animation.destroy(),S.destroy(),N.clear()}function K(e,t,r){B.active&&!$&&(n.scrollBody.useBaseFriction().useDuration(!0===t?0:B.duration),n.scrollTo.index(e,r||0))}function W(){return n.index.get()}let G={canScrollNext:function(){return n.index.add(1).get()!==W()},canScrollPrev:function(){return n.index.add(-1).get()!==W()},containerNode:function(){return i},internalEngine:function(){return n},destroy:function(){$||($=!0,N.clear(),z(),D.emit("destroy"),D.clear())},off:I,on:T,emit:F,plugins:function(){return o},previousScrollSnap:function(){return n.indexPrevious.get()},reInit:U,rootNode:function(){return e},scrollNext:function(e){K(n.index.add(1).get(),e,-1)},scrollPrev:function(e){K(n.index.add(-1).get(),e,1)},scrollProgress:function(){return n.scrollProgress.get(n.offsetLocation.get())},scrollSnapList:function(){return n.scrollSnapList},scrollTo:K,selectedScrollSnap:W,slideNodes:function(){return a},slidesInView:function(){return n.slidesInView.get()},slidesNotInView:function(){return n.slidesInView.get(!1)}};return V(t,r),setTimeout(()=>D.emit("init"),0),G}function O(e={},t=[]){let r=(0,o.useRef)(e),n=(0,o.useRef)(t),[i,a]=(0,o.useState)(),[c,u]=(0,o.useState)(),d=(0,o.useCallback)(()=>{i&&i.reInit(r.current,n.current)},[i]);return(0,o.useEffect)(()=>{s(r.current,e)||(r.current=e,d())},[e,d]),(0,o.useEffect)(()=>{!function(e,t){if(e.length!==t.length)return!1;let r=l(e),n=l(t);return r.every((e,t)=>s(e,n[t]))}(n.current,t)&&(n.current=t,d())},[t,d]),(0,o.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&c){P.globalOptions=O.globalOptions;let e=P(c,r.current,n.current);return a(e),()=>e.destroy()}a(void 0)},[c,a]),[u,i]}P.globalOptions=void 0,O.globalOptions=void 0;var C=r(59821),S=r(39131);function N({product:e}){let t=(0,S.Y)(e),r=(0,S.x)(e,t?.selectedOptions),[a,s]=O({align:"start",dragFree:!1,loop:!1}),[l,c]=(0,o.useState)(0);(0,o.useCallback)(()=>{},[]),(0,o.useCallback)(e=>{c(e.selectedScrollSnap())},[]);let u=r.filter(e=>e&&e.url),d=u.length;return 0===d?null:(0,n.jsxs)("div",{className:"relative w-full h-full",children:[(0,n.jsx)("div",{className:"overflow-hidden h-full",ref:a,children:(0,n.jsx)("div",{className:"flex h-full",children:u.map((t,r)=>(0,n.jsx)("div",{className:"flex-shrink-0 w-full h-full relative",children:(0,n.jsx)(i.default,{style:{aspectRatio:`${t.width} / ${t.height}`},src:t.url,alt:t.altText||e.title,width:t.width||600,height:t.height||600,className:"w-full h-full object-cover",quality:100,priority:0===r})},`${t.url}-${t.selectedOptions?.map((e,t)=>`${e.name},${e.value}`).join("-")||r}`))})}),d>1&&(0,n.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:(0,n.jsxs)(C.E,{variant:"outline-secondary",children:[l+1,"/",d]})})]})}},92737:(e,t,r)=>{"use strict";r.d(t,{MobileGallerySlider:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call MobileGallerySlider() from the server but MobileGallerySlider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/product/[handle]/components/mobile-gallery-slider.tsx","MobileGallerySlider")},97576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return o.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return s.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let n=r(86897),o=r(49026),i=r(62765),a=r(48976),s=r(70899),l=r(163);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4447,8167,6355,5258],()=>r(56159));module.exports=n})();