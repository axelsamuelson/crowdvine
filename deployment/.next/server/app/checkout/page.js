(()=>{var e={};e.id=8279,e.ids=[8279],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3416:(e,s,t)=>{"use strict";t.d(s,{sG:()=>u,hO:()=>m});var a=t(43210),r=t(51215),l=t(98599),n=t(60687),i=a.forwardRef((e,s)=>{let{children:t,...r}=e,l=a.Children.toArray(t),i=l.find(c);if(i){let e=i.props.children,t=l.map(s=>s!==i?s:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(d,{...r,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,t):null})}return(0,n.jsx)(d,{...r,ref:s,children:t})});i.displayName="Slot";var d=a.forwardRef((e,s)=>{let{children:t,...r}=e;if(a.isValidElement(t)){let e=function(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=s&&"isReactWarning"in s&&s.isReactWarning;return t?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return a.cloneElement(t,{...function(e,s){let t={...s};for(let a in s){let r=e[a],l=s[a];/^on[A-Z]/.test(a)?r&&l?t[a]=(...e)=>{l(...e),r(...e)}:r&&(t[a]=r):"style"===a?t[a]={...r,...l}:"className"===a&&(t[a]=[r,l].filter(Boolean).join(" "))}return{...e,...t}}(r,t.props),ref:s?(0,l.t)(s,e):e})}return a.Children.count(t)>1?a.Children.only(null):null});d.displayName="SlotClone";var o=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function c(e){return a.isValidElement(e)&&e.type===o}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let t=a.forwardRef((e,t)=>{let{asChild:a,...r}=e,l=a?i:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...r,ref:t})});return t.displayName=`Primitive.${s}`,{...e,[s]:t}},{});function m(e,s){e&&r.flushSync(()=>e.dispatchEvent(s))}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11273:(e,s,t)=>{"use strict";t.d(s,{A:()=>n,q:()=>l});var a=t(43210),r=t(60687);function l(e,s){let t=a.createContext(s),l=e=>{let{children:s,...l}=e,n=a.useMemo(()=>l,Object.values(l));return(0,r.jsx)(t.Provider,{value:n,children:s})};return l.displayName=e+"Provider",[l,function(r){let l=a.useContext(t);if(l)return l;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function n(e,s=[]){let t=[],l=()=>{let s=t.map(e=>a.createContext(e));return function(t){let r=t?.[e]||s;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l),i=t.length;t=[...t,l];let d=s=>{let{scope:t,children:l,...d}=s,o=t?.[e]?.[i]||n,c=a.useMemo(()=>d,Object.values(d));return(0,r.jsx)(o.Provider,{value:c,children:l})};return d.displayName=s+"Provider",[d,function(t,r){let d=r?.[e]?.[i]||n,o=a.useContext(d);if(o)return o;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return a.useMemo(()=>({[`__scope${s.scopeName}`]:r}),[r])}};return t.scopeName=s.scopeName,t}(l,...s)]}},11860:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},11997:e=>{"use strict";e.exports=require("punycode")},13495:(e,s,t)=>{"use strict";t.d(s,{c:()=>r});var a=t(43210);function r(e){let s=a.useRef(e);return a.useEffect(()=>{s.current=e}),a.useMemo(()=>(...e)=>s.current?.(...e),[])}},15159:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=t(65239),r=t(48088),l=t(88170),n=t.n(l),i=t(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o={children:["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,61528)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/checkout/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,90253))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,52608)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,82366)),"/Users/axelsamuelson/Downloads/crowdvine_01/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,90253))).default(e)],twitter:[],manifest:void 0}}]}.children,c=["/Users/axelsamuelson/Downloads/crowdvine_01/app/checkout/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},19080:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23928:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37826:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,L3:()=>p,c7:()=>x,lG:()=>d,zM:()=>o});var a=t(60687),r=t(43210),l=t(25448),n=t(11860),i=t(96241);let d=l.bL,o=l.l9,c=l.ZL;l.bm;let u=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));u.displayName=l.hJ.displayName;let m=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.UC.displayName;let x=({className:e,...s})=>(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});x.displayName="DialogHeader";let p=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));p.displayName=l.hE.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})).displayName=l.VY.displayName},39390:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(60687),r=t(43210),l=t(78696),n=t(24224),i=t(96241);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),e),...s}));o.displayName=l.b.displayName},41312:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},48730:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},53251:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>r.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>a.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>a.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>a.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>a.fk});var a=t(45063),r=t(23234)},53411:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},54242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var a=t(60687),r=t(43210),l=t(16189),n=t(24934),i=t(55192),d=t(68988),o=t(39390),c=t(93437),u=t(63974),m=t(59821),x=t(37826),p=t(52581),h=t(58869);function f({onProfileSaved:e,trigger:s}){let[t,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[m,f]=(0,r.useState)({full_name:"",phone:"",address:"",city:"",postal_code:"",country:"Sweden"}),v=async()=>{c(!0);try{let s=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!s.ok)throw Error("Failed to save profile");let t=await s.json();e(t),l(!1),p.o.success("Profile information saved successfully!")}catch(e){console.error("Error saving profile:",e),p.o.error("Failed to save profile information")}finally{c(!1)}};return(0,a.jsxs)(x.lG,{open:t,onOpenChange:l,children:[(0,a.jsx)(x.zM,{asChild:!0,children:s||(0,a.jsxs)(n.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Add Profile Information"]})}),(0,a.jsxs)(x.Cf,{className:"max-w-md",children:[(0,a.jsx)(x.c7,{children:(0,a.jsxs)(x.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-5 h-5"}),"Add Profile Information"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"full_name",children:"Full Name"}),(0,a.jsx)(d.p,{id:"full_name",value:m.full_name,onChange:e=>f({...m,full_name:e.target.value}),placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(d.p,{id:"phone",value:m.phone,onChange:e=>f({...m,phone:e.target.value}),placeholder:"Enter your phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"address",children:"Address"}),(0,a.jsx)(d.p,{id:"address",value:m.address,onChange:e=>f({...m,address:e.target.value}),placeholder:"Enter your address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"city",children:"City"}),(0,a.jsx)(d.p,{id:"city",value:m.city,onChange:e=>f({...m,city:e.target.value}),placeholder:"Enter your city"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"postal_code",children:"Postal Code"}),(0,a.jsx)(d.p,{id:"postal_code",value:m.postal_code,onChange:e=>f({...m,postal_code:e.target.value}),placeholder:"Enter postal code"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"country",children:"Country"}),(0,a.jsxs)(u.l6,{value:m.country,onValueChange:e=>f({...m,country:e}),children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select country"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"Sweden",children:"Sweden"}),(0,a.jsx)(u.eb,{value:"Norway",children:"Norway"}),(0,a.jsx)(u.eb,{value:"Denmark",children:"Denmark"}),(0,a.jsx)(u.eb,{value:"Finland",children:"Finland"}),(0,a.jsx)(u.eb,{value:"Germany",children:"Germany"}),(0,a.jsx)(u.eb,{value:"France",children:"France"}),(0,a.jsx)(u.eb,{value:"United Kingdom",children:"United Kingdom"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,a.jsx)(n.$,{onClick:v,disabled:i,className:"flex-1",children:i?"Saving...":"Save Profile"}),(0,a.jsx)(n.$,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"})]})]})]})]})}var v=t(96474),y=t(85778),j=t(13964);function g({onPaymentMethodSelected:e,selectedMethod:s}){let[t,l]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(!1),h=async()=>{try{let e=await fetch("/api/user/profile");if(!e.ok){p.o.error("Please add your profile information first");return}let s=await e.json();if(!s.email){p.o.error("Email is required to add payment method");return}let t=await fetch(`/api/checkout/setup?email=${encodeURIComponent(s.email)}&name=${encodeURIComponent(s.full_name||"")}`);if(!t.ok){let e=await t.json();p.o.error(e.error||"Failed to setup payment method");return}let a=await t.json();a.url?window.location.href=a.url:p.o.error("Failed to setup payment method")}catch(e){console.error("Error adding payment method:",e),p.o.error("Failed to add payment method")}};return d?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Payment Method"}),(0,a.jsxs)(x.lG,{open:c,onOpenChange:u,children:[(0,a.jsx)(x.zM,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add Method"]})}),(0,a.jsxs)(x.Cf,{children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Add Payment Method"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Add Payment Method"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"You'll be redirected to Stripe to securely add your payment method. This will be saved for future reservations."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{onClick:h,className:"flex-1",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]}),(0,a.jsx)(n.$,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),0===t.length?(0,a.jsx)(i.Zp,{className:"border-dashed",children:(0,a.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),(0,a.jsxs)(n.$,{onClick:()=>u(!0),children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})]})}):(0,a.jsx)("div",{className:"space-y-3",children:t.map(t=>(0,a.jsx)(i.Zp,{className:`cursor-pointer transition-all ${s?.id===t.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>e(t),children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.A,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:[t.brand?.toUpperCase()," •••• ",t.last4]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Expires ",t.expiry_month,"/",t.expiry_year]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t.is_default&&(0,a.jsx)(m.E,{variant:"default",className:"bg-green-600",children:"Default"}),s?.id===t.id&&(0,a.jsx)(j.A,{className:"w-5 h-5 text-blue-600"})]})]})})},t.id))}),t.length>0&&(0,a.jsx)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Reservation Checkout:"})," No payment will be charged now. We only charge when the matching pallet is triggered."]})})]})}let b=(0,t(62688).A)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var N=t(97992),w=t(3589),C=t(78272),k=t(41312),A=t(48730);function P({zoneId:e,zoneName:s,zoneType:t,centerLat:l,centerLon:d,radiusKm:o,countryCode:c}){let[u,x]=(0,r.useState)(!1),p={pickup:{title:"Pickup Zone",description:"Where wines are collected from producers",icon:(0,a.jsx)(b,{className:"w-4 h-4"}),color:"blue"},delivery:{title:"Delivery Zone",description:"Where wines are delivered to customers",icon:(0,a.jsx)(N.A,{className:"w-4 h-4"}),color:"green"}}[t];return(0,a.jsxs)(i.Zp,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)("div",{className:`p-2 rounded-lg bg-${p.color}-100`,children:p.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:s}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-normal",children:p.title})]})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>x(!u),className:"p-1",children:u?(0,a.jsx)(w.A,{className:"w-4 h-4"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})})]})}),u&&(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:p.description})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[l&&d&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Coordinates"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[l.toFixed(4),", ",d.toFixed(4)]})]})]}),o&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Coverage"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[o,"km radius"]})]})]}),c&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Country"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:c})]})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:["Zone ID: ",e.substring(0,8),"..."]})})]})})]})}var S=t(19080),_=t(88059),Z=t(23928),D=t(53411);function F(e,s){return 0===s?0:Math.round(e/s)}function M(e){return`${(e/100).toFixed(2)} SEK`}function z({pallet:e}){let[s,t]=(0,r.useState)(!1),l=Math.round(e.currentBottles/e.maxBottles*100),d=e.remainingBottles>0,o=F(e.costCents,e.maxBottles);return(0,a.jsxs)(i.Zp,{className:`border-l-4 ${d?"border-l-green-500":"border-l-red-500"}`,children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)("div",{className:`p-2 rounded-lg ${d?"bg-green-100":"bg-red-100"}`,children:(0,a.jsx)(S.A,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 font-normal",children:[e.pickupZoneName," → ",e.deliveryZoneName]})]})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>t(!s),className:"p-1",children:s?(0,a.jsx)(w.A,{className:"w-4 h-4"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})})]})}),s&&(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Capacity"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[l,"% full"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:`h-3 rounded-full transition-all duration-500 ${l>=90?"bg-red-500":l>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${l}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsxs)("span",{children:[e.currentBottles," bottles"]}),(0,a.jsxs)("span",{children:[e.maxBottles," max"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Pickup Location"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:e.pickupZoneName})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Delivery Area"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:e.deliveryZoneName})]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Shipping Cost"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pallet cost:"}),(0,a.jsx)("span",{className:"font-medium",children:M(e.costCents)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Per bottle:"}),(0,a.jsx)("span",{className:"font-medium text-blue-600",children:M(o)})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Cost divided by ",e.maxBottles," bottles capacity"]})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Availability"})]}),(0,a.jsx)(m.E,{variant:d?"default":"destructive",className:d?"bg-green-100 text-green-800":"",children:d?`${e.remainingBottles} bottles available`:"Full"})]})}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:["Pallet ID: ",e.id.substring(0,8),"..."]})})]})})]})}var E=t(93613);function R(){let[e,s]=(0,r.useState)(null),[t,x]=(0,r.useState)(!0),[v,j]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[C,k]=(0,r.useState)(null),[A,_]=(0,r.useState)(!0),[Z,D]=(0,r.useState)(!1),[R,q]=(0,r.useState)({street:"",postcode:"",city:"",countryCode:""}),[$,I]=(0,r.useState)({pickupZone:null,deliveryZone:null,selectedDeliveryZoneId:null});(0,l.useSearchParams)();let B=e=>{j(e),_(!0),D(!1),p.o.success("Profile information saved!")},O=async e=>{if(e.preventDefault(),!v?.email){p.o.error("Please add your profile information first");return}if(!b){p.o.error("Please select a payment method");return}if((A?v?.address&&v?.city&&v?.postal_code:R.street&&R.city&&R.postcode&&R.countryCode)&&!$.selectedDeliveryZoneId){p.o.error("No delivery zone matches your address. Please contact support or try a different address.");return}if($.pallets&&$.pallets.length>0&&!C){p.o.error("Please select a pallet for your reservation.");return}let s=new FormData;s.append("fullName",v?.full_name||""),s.append("email",v?.email||""),s.append("phone",v?.phone||""),A&&v?(s.append("street",v.address||""),s.append("postcode",v.postal_code||""),s.append("city",v.city||""),s.append("countryCode","Sweden"===v.country?"SE":"Norway"===v.country?"NO":"Denmark"===v.country?"DK":"Finland"===v.country?"FI":"Germany"===v.country?"DE":"France"===v.country?"FR":"United Kingdom"===v.country?"GB":"")):(s.append("street",R.street),s.append("postcode",R.postcode),s.append("city",R.city),s.append("countryCode",R.countryCode)),$.selectedDeliveryZoneId&&s.append("selectedDeliveryZoneId",$.selectedDeliveryZoneId),C&&s.append("selectedPalletId",C.id),s.append("paymentMethodId",b.id);try{let e=await fetch("/api/checkout/confirm",{method:"POST",body:s});if(e.ok)p.o.success("Reservation placed successfully!"),window.location.href="/checkout/success";else{let s=await e.json();p.o.error(s.error||"Failed to place reservation")}}catch(e){console.error("Error placing reservation:",e),p.o.error("Failed to place reservation")}};if(t)return(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})});if(!e||0===e.totalQuantity)return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Checkout"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your cart is empty. Please add some items before proceeding to checkout."}),(0,a.jsx)("a",{href:"/",className:"inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Continue Shopping"})]});let L=v?.full_name&&v?.email,U=v?.address&&v?.city&&v?.postal_code,W=C?function(e,s){if(!s)return null;let t=e.reduce((e,s)=>e+s.quantity,0);return function(e,s,t){let a=F(e,s),r=a*t;return{palletCostCents:e,palletCostSek:e/100,costPerBottleCents:a,costPerBottleSek:a/100,totalShippingCostCents:r,totalShippingCostSek:r/100,bottlesInPallet:t}}(s.costCents,s.bottleCapacity,t)}(e.lines.map(e=>({quantity:e.quantity})),{id:C.id,name:C.name,costCents:C.costCents,bottleCapacity:C.maxBottles,currentBottles:C.currentBottles,remainingBottles:C.remainingBottles}):null;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Complete your wine reservation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5"}),"Order Summary"]})}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"space-y-3",children:e.lines.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.merchandise.title}),(0,a.jsxs)("span",{className:"text-gray-600 ml-2",children:["x",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-medium",children:[e.cost.totalAmount.amount," ",e.cost.totalAmount.currencyCode]})]},e.id))}),(0,a.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Shipping"}),(0,a.jsx)("span",{className:"text-sm",children:W?(0,a.jsx)("span",{className:"font-medium",children:M(W.totalShippingCostCents)}):(0,a.jsx)("span",{className:"text-gray-400",children:"No pallet chosen"})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.cost.totalAmount.amount," ",e.cost.totalAmount.currencyCode]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center font-semibold text-lg border-t pt-2",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:W?(0,a.jsxs)(a.Fragment,{children:[(parseFloat(e.cost.totalAmount.amount)+W.totalShippingCostSek).toFixed(2)," ",e.cost.totalAmount.currencyCode]}):(0,a.jsxs)(a.Fragment,{children:[e.cost.totalAmount.amount," ",e.cost.totalAmount.currencyCode]})})]})]})})]})]}),($.pickupZone||$.deliveryZone||A&&v?.address&&v?.city&&v?.postal_code||Z&&R.street&&R.city&&R.postcode)&&(0,a.jsxs)("div",{className:"space-y-4",children:[$.pickupZone&&(0,a.jsx)(P,{zoneId:$.pickupZoneId||"",zoneName:$.pickupZone,zoneType:"pickup"}),$.availableDeliveryZones&&$.availableDeliveryZones.length>1?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("p",{className:"font-medium text-green-900 mb-2",children:"Multiple delivery zones available"}),(0,a.jsxs)(u.l6,{value:$.selectedDeliveryZoneId||"",onValueChange:e=>{let s=$.availableDeliveryZones?.find(s=>s.id===e);s&&I(t=>({...t,selectedDeliveryZoneId:e,deliveryZone:s.name}))},children:[(0,a.jsx)(u.bq,{className:"w-full",children:(0,a.jsx)(u.yv,{placeholder:"Select delivery zone"})}),(0,a.jsx)(u.gC,{children:$.availableDeliveryZones.map(e=>(0,a.jsxs)(u.eb,{value:e.id,children:[e.name," (",e.radiusKm,"km radius)"]},e.id))})]})]}),$.selectedDeliveryZoneId&&(0,a.jsx)(P,{zoneId:$.selectedDeliveryZoneId,zoneName:$.deliveryZone||"",zoneType:"delivery",centerLat:$.availableDeliveryZones.find(e=>e.id===$.selectedDeliveryZoneId)?.centerLat,centerLon:$.availableDeliveryZones.find(e=>e.id===$.selectedDeliveryZoneId)?.centerLon,radiusKm:$.availableDeliveryZones.find(e=>e.id===$.selectedDeliveryZoneId)?.radiusKm})]}):$.deliveryZone?(0,a.jsx)(P,{zoneId:$.selectedDeliveryZoneId||"",zoneName:$.deliveryZone,zoneType:"delivery",centerLat:$.availableDeliveryZones?.[0]?.centerLat,centerLon:$.availableDeliveryZones?.[0]?.centerLon,radiusKm:$.availableDeliveryZones?.[0]?.radiusKm}):A&&v?.address&&v?.city&&v?.postal_code||Z&&R.street&&R.city&&R.postcode?(0,a.jsxs)(i.Zp,{className:"border-l-4 border-l-red-500",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-red-700",children:[(0,a.jsx)(E.A,{className:"w-5 h-5"}),"No Delivery Zone Found"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:"No delivery zone matches this address. Please contact support or try a different address."})})]}):null]}),$.pallets&&$.pallets.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5"}),"Available Pallets"]}),C&&(0,a.jsxs)(m.E,{variant:"default",className:"bg-green-100 text-green-800",children:["Selected: ",C.name]})]}),(0,a.jsx)("div",{className:"space-y-3",children:$.pallets.map(e=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z,{pallet:e}),e.remainingBottles>0&&(0,a.jsx)("div",{className:"mt-3 flex justify-center",children:(0,a.jsx)(n.$,{variant:C?.id===e.id?"default":"outline",size:"sm",onClick:()=>k(e),className:C?.id===e.id?"bg-green-600 hover:bg-green-700":"",children:C?.id===e.id?"Selected":"Select This Pallet"})})]},e.id))}),C&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-green-800",children:"Reservation will be added to:"})]}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:[(0,a.jsx)("strong",{children:C.name})," (",C.pickupZoneName," → ",C.deliveryZoneName,")"]}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[C.remainingBottles," bottles available for your order"]})]})]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-5 h-5"}),"Customer Information"]})}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:L?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"font-medium",children:v.full_name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-gray-600",children:v.email})]}),v.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-gray-600",children:v.phone})]}),(0,a.jsx)(f,{onProfileSaved:B,trigger:(0,a.jsx)(n.$,{variant:"outline",size:"sm",className:"mt-2",children:"Edit Profile"})})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(E.A,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Profile information missing"}),(0,a.jsx)(f,{onProfileSaved:B})]})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-5 h-5"}),"Delivery Address"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[U?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.S,{id:"useProfileAddress",checked:A,onCheckedChange:e=>{_(e),D(!e)}}),(0,a.jsxs)(o.J,{htmlFor:"useProfileAddress",className:"text-sm font-medium",children:["Use profile address: ",v?.address,", ",v?.postal_code," ",v?.city]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.S,{id:"useCustomAddress",checked:Z,onCheckedChange:e=>{D(e),_(!e)}}),(0,a.jsx)(o.J,{htmlFor:"useCustomAddress",className:"text-sm font-medium",children:"Use different delivery address"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(E.A,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Delivery address missing from profile"}),(0,a.jsx)(f,{onProfileSaved:B})]}),Z&&(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customStreet",children:"Street Address"}),(0,a.jsx)(d.p,{id:"customStreet",value:R.street,onChange:e=>q({...R,street:e.target.value}),placeholder:"Enter street address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customPostcode",children:"Postal Code"}),(0,a.jsx)(d.p,{id:"customPostcode",value:R.postcode,onChange:e=>q({...R,postcode:e.target.value}),placeholder:"Enter postal code"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customCity",children:"City"}),(0,a.jsx)(d.p,{id:"customCity",value:R.city,onChange:e=>q({...R,city:e.target.value}),placeholder:"Enter city"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customCountry",children:"Country"}),(0,a.jsxs)(u.l6,{value:R.countryCode,onValueChange:e=>q({...R,countryCode:e}),children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select country"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"SE",children:"Sweden"}),(0,a.jsx)(u.eb,{value:"NO",children:"Norway"}),(0,a.jsx)(u.eb,{value:"DK",children:"Denmark"}),(0,a.jsx)(u.eb,{value:"FI",children:"Finland"}),(0,a.jsx)(u.eb,{value:"DE",children:"Germany"}),(0,a.jsx)(u.eb,{value:"FR",children:"France"}),(0,a.jsx)(u.eb,{value:"GB",children:"United Kingdom"})]})]})]})]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-5 h-5"}),"Payment Method"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(g,{onPaymentMethodSelected:w,selectedMethod:b})})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:"Place Reservation"})]})})]})]})}},55192:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var a=t(60687),r=t(43210),l=t(96241);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-md bg-card text-card-foreground",e),...s}));n.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4",e),...s}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold text-lg leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-4 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59821:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(60687);t(43210);var r=t(11329),l=t(24224),n=t(96241);let i=(0,l.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,asChild:t=!1,...l}){let d=t?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(i({variant:s}),e),...l})}},61528:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/axelsamuelson/Downloads/crowdvine_01/app/checkout/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/checkout/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,s,t)=>{"use strict";t.d(s,{TR:()=>f,bq:()=>p,eb:()=>v,gC:()=>h,l6:()=>c,mi:()=>y,s3:()=>u,yv:()=>m});var a=t(60687);t(43210);var r=t(94378),l=t(78272),n=t(13964),i=t(3589),d=t(24224),o=t(96241);function c({...e}){return(0,a.jsx)(r.bL,{"data-slot":"select",...e})}function u({...e}){return(0,a.jsx)(r.YJ,{"data-slot":"select-group",...e})}function m({...e}){return(0,a.jsx)(r.WT,{"data-slot":"select-value",...e})}let x=(0,d.F)("border-input bg-white data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-fit items-center justify-between gap-2 rounded-md border px-3 py-2 text-base md:text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:ring-red-500",{variants:{size:{sm:"h-8 text-sm",default:"h-10"}},defaultVariants:{size:"default"}});function p({className:e,size:s,children:t,...n}){return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger",className:(0,o.cn)(x({size:s,className:e})),...n,children:[t,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"opacity-50 size-4"})})]})}function h({className:e,children:s,position:t="popper",...l}){return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover/80 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...l,children:[(0,a.jsx)(j,{}),(0,a.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(g,{})]})})}function f({className:e,...s}){return(0,a.jsx)(r.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...s})}function v({className:e,children:s,...t}){return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...t,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:s})]})}function y({className:e,...s}){return(0,a.jsx)(r.wv,{"data-slot":"select-separator",className:(0,o.cn)("-mx-1 my-1 h-px pointer-events-none bg-input",e),...s})}function j({className:e,...s}){return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",e),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}function g({className:e,...s}){return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",e),...s,children:(0,a.jsx)(l.A,{className:"size-4"})})}},65073:(e,s,t)=>{Promise.resolve().then(t.bind(t,54242))},66156:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});var a=t(43210),r=globalThis?.document?a.useLayoutEffect:()=>{}},68988:(e,s,t)=>{"use strict";t.d(s,{j:()=>n,p:()=>i});var a=t(60687),r=t(43210),l=t(96241);let n=(0,t(24224).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),i=r.forwardRef(({className:e,type:s,...t},r)=>(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",e),ref:r,...t}));i.displayName="Input"},70569:(e,s,t)=>{"use strict";function a(e,s,{checkForDefaultPrevented:t=!0}={}){return function(a){if(e?.(a),!1===t||!a.defaultPrevented)return s?.(a)}}t.d(s,{m:()=>a})},74075:e=>{"use strict";e.exports=require("zlib")},74801:(e,s,t)=>{Promise.resolve().then(t.bind(t,61528))},76926:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return d}});let a=function(e,s){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r(s);if(t&&t.has(e))return t.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=l?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}(t(61120));function r(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:s})(e)}let l={current:null},n="function"==typeof a.cache?a.cache:e=>e,i=console.warn;function d(e){return function(...s){i(e(...s))}}n(e=>{try{i(l.current)}finally{l.current=null}})},78696:(e,s,t)=>{"use strict";t.d(s,{b:()=>d});var a=t(43210);t(51215);var r=t(11329),l=t(60687),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,r.TL)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?t:s,{...n,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),i=a.forwardRef((e,s)=>(0,l.jsx)(n.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var d=i},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85778:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},88059:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},93437:(e,s,t)=>{"use strict";t.d(s,{S:()=>d});var a=t(60687),r=t(43210),l=t(76679),n=t(13964),i=t(96241);let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(l.bL,{ref:t,className:(0,i.cn)("peer bg-background h-4 w-4 shrink-0 rounded-sm border border-primary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,a.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}));d.displayName=l.bL.displayName},93613:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},97992:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},98599:(e,s,t)=>{"use strict";t.d(s,{s:()=>n,t:()=>l});var a=t(43210);function r(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}function l(...e){return s=>{let t=!1,a=e.map(e=>{let a=r(e,s);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let s=0;s<a.length;s++){let t=a[s];"function"==typeof t?t():r(e[s],null)}}}}function n(...e){return a.useCallback(l(...e),e)}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[4447,8167,6355,1410,5448,758,6679,5258],()=>t(15159));module.exports=a})();