exports.id=7400,exports.ids=[7400],exports.modules={2008:(e,t,s)=>{"use strict";s.d(t,{ProductsProvider:()=>a});var r=s(12907);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call ProductsProvider() from the server but ProductsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/providers/products-provider.tsx","ProductsProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useProducts() from the server but useProducts is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/providers/products-provider.tsx","useProducts")},6933:(e,t,s)=>{Promise.resolve().then(s.bind(s,47354)),Promise.resolve().then(s.bind(s,14557))},12872:(e,t,s)=>{"use strict";s.d(t,{AddToCart:()=>h,AddToCartButton:()=>f});var r=s(60687),a=s(1303),n=s(43210),o=s(9374),l=s(24934),i=s(39131),c=s(16189),d=s(88920),u=s(92576),m=s(92251);let p=e=>({id:e.id,title:e.title,availableForSale:e.availableForSale,selectedOptions:[],price:e.priceRange.minVariantPrice});function f({product:e,selectedVariant:t,className:s,iconOnly:i=!1,icon:c=(0,r.jsx)(a.A,{}),...f}){let{addItem:h}=(0,o._)(),[x,v]=(0,n.useTransition)(),g=(0,n.useMemo)(()=>t||(0===e.variants.length?p(e):1===e.variants.length?e.variants[0]:void 0),[t,e]),b=()=>e.availableForSale?g?"Add To Cart":"Select one":"Out Of Stock",j=!e.availableForSale||!g||x,y=()=>{let e=f.size;return"sm"===e||"icon-sm"===e||"icon"===e?"sm":"icon-lg"===e?"default":"lg"===e?"lg":"default"};return(0,r.jsx)("form",{onSubmit:t=>{t.preventDefault(),g&&v(async()=>{h(g,e)})},className:s,children:(0,r.jsx)(l.$,{type:"submit","aria-label":g?"Add to cart":"Select one",disabled:j,className:i?void 0:"flex relative justify-between items-center w-full",...f,children:(0,r.jsx)(d.N,{initial:!1,mode:"wait",children:i?(0,r.jsx)(u.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},className:"flex justify-center items-center",children:x?(0,r.jsx)(m.a,{size:y()}):(0,r.jsx)("span",{className:"inline-block",children:c})},x?"loading":"icon"):(0,r.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex justify-center items-center w-full",children:x?(0,r.jsx)(m.a,{size:y()}):(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,r.jsx)("span",{children:b()}),(0,r.jsx)(a.A,{})]})},x?"loading":b())})})})}function h({product:e,className:t,iconOnly:s=!1,icon:o=(0,r.jsx)(a.A,{}),...l}){let{variants:d}=e,u=(0,i.Y)(e),m=(0,c.useParams)(),h=(0,c.useSearchParams)(),x=0===d.length,v=1===d.length?d[0]?.id:void 0,g=u?.id||v,b=m.handle===e.id||h.get("pid")===e.id,j=(0,n.useMemo)(()=>x?p(e):b||v?d.find(e=>e.id===g):void 0,[x,e,b,v,d,g]);return(0,r.jsx)(f,{product:e,selectedVariant:j,className:t,iconOnly:s,icon:o,...l})}},14557:(e,t,s)=>{"use strict";s.d(t,{SortDropdown:()=>c});var r=s(60687),a=s(63974),n=s(24934),o=s(16454),l=s(96241);let i=[{label:"Price-Low",value:"price-asc"},{label:"Price-High",value:"price-desc"},{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"}];function c({className:e}){let[t,s]=(0,o.ZA)("sort",o.tU.withOptions({shallow:!1}));return(0,r.jsxs)(a.l6,{value:t??void 0,onValueChange:s,children:[(0,r.jsx)(a.bq,{size:"sm",className:(0,l.cn)("justify-self-end -mr-3 font-medium bg-transparent border-none shadow-none md:w-32 hover:bg-muted/50",e),children:(0,r.jsx)(a.yv,{placeholder:"Sort by"})}),(0,r.jsx)(a.gC,{align:"end",children:(0,r.jsxs)(a.s3,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pr-1",children:[(0,r.jsx)(a.TR,{className:"text-xs",children:"Sort"}),(0,r.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",className:"px-1 h-5 text-xs text-muted-foreground",onClick:()=>s(null),children:"Clear"})]}),(0,r.jsx)(a.mi,{}),i.map(e=>(0,r.jsx)(a.eb,{value:e.value,children:e.label},e.value))]})})]})}},18913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(37413),a=s(61120),n=s(66819),o=s(51034);function l({count:e,className:t}){return(0,r.jsxs)("span",{className:(0,n.cn)("place-self-center text-sm text-foreground/50",t),children:[e," results"]})}var i=s(35146);function c({collections:e,products:t,className:s}){return(0,r.jsxs)("div",{className:(0,n.cn)("grid grid-cols-3 items-center mb-1 w-full pr-sides",s),children:[(0,r.jsx)(o.ShopBreadcrumb,{collections:e,className:"ml-1"}),(0,r.jsx)(l,{count:t.length}),(0,r.jsx)(i.SortDropdown,{})]})}let d=({children:e})=>(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:e});var u=s(22572);function m(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(c,{collections:[],products:[]})}),(0,r.jsx)(d,{children:Array.from({length:12}).map((e,t)=>(0,r.jsx)(u.D,{},t))})]})}},20185:(e,t,s)=>{"use strict";s.d(t,{b:()=>c});var r=s(60687),a=s(16189),n=s(85814),o=s.n(n),l=s(96241),i=s(86418);function c({collections:e,className:t}){let s=(0,a.useParams)(),n=!!s.collection,c=(0,i.h)();return(0,r.jsxs)("div",{className:(0,l.cn)("px-3 py-4 rounded-lg bg-muted",t),children:[(0,r.jsxs)("h3",{className:"mb-4 font-semibold",children:["Categories"," ",c>0&&(0,r.jsxs)("span",{className:"text-foreground/50",children:["(",c,")"]})]}),(0,r.jsx)("ul",{className:"flex flex-col gap-1",children:e.map((e,t)=>{let a=s.collection===e.handle;return(0,r.jsx)("li",{children:(0,r.jsx)(o(),{className:(0,l.cn)("flex w-full text-left transition-all transform cursor-pointer font-sm md:hover:translate-x-1 md:hover:opacity-80",a?"font-medium translate-x-1":n?"opacity-50":""),href:`/shop/${e.handle}`,"aria-pressed":a,"aria-label":`Filter by category: ${e.title}`,prefetch:!0,children:e.title})},`${e.handle}-${t}`)})})]})}},20951:(e,t,s)=>{Promise.resolve().then(s.bind(s,34786)),Promise.resolve().then(s.bind(s,32368)),Promise.resolve().then(s.bind(s,2008)),Promise.resolve().then(s.bind(s,33832)),Promise.resolve().then(s.t.bind(s,4536,23))},22572:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(37413);let a=()=>(0,r.jsx)("div",{className:"aspect-square animate-pulse bg-gradient-to-br from-neutral-200 to-neutral-200/30 odd:bg-gradient-to-br odd:from-neutral-200/30 odd:to-neutral-200"})},32368:(e,t,s)=>{"use strict";s.d(t,{DesktopFilters:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call DesktopFilters() from the server but DesktopFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/components/shop-filters.tsx","DesktopFilters")},34786:(e,t,s)=>{"use strict";s.d(t,{MobileFilters:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call MobileFilters() from the server but MobileFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/components/mobile-filters.tsx","MobileFilters")},35146:(e,t,s)=>{"use strict";s.d(t,{SortDropdown:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call SortDropdown() from the server but SortDropdown is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/components/sort-dropdown.tsx","SortDropdown")},36052:(e,t,s)=>{"use strict";s.d(t,{MobileFilters:()=>N});var r=s(60687),a=s(43210),n=s(96241),o=s(24934),l=s(77668);let i=({shouldScaleBackground:e=!0,...t})=>(0,r.jsx)(l._s.Root,{shouldScaleBackground:e,...t});i.displayName="Drawer";let c=l._s.Trigger,d=l._s.Portal;l._s.Close;let u=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l._s.Overlay,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",e),...t}));u.displayName=l._s.Overlay.displayName;let m=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l._s.Content,{ref:a,className:(0,n.cn)("flex fixed inset-x-0 bottom-0 z-50 flex-col mt-24 h-auto rounded-t-lg bg-background",e),...s,children:[(0,r.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));m.displayName="DrawerContent";let p=({className:e,...t})=>(0,r.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",e),...t});p.displayName="DrawerHeader";let f=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l._s.Title,{ref:s,className:(0,n.cn)("text-lg font-semibold tracking-tight leading-none",e),...t}));f.displayName=l._s.Title.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l._s.Description,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName=l._s.Description.displayName;var h=s(20185),x=s(52847),v=s(86418),g=s(59626),b=s(85106),j=s(14557),y=s(85814),w=s.n(y);function N({collections:e,className:t}){let s=(0,v.Z6)(),{products:a,originalProducts:l}=(0,g.Q)();return(0,r.jsx)("div",{className:"pt-top-spacing bg-background md:hidden overflow-x-clip",children:(0,r.jsxs)(i,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 items-center px-4 py-3",children:[(0,r.jsx)(c,{asChild:!0,children:(0,r.jsxs)(o.$,{variant:"ghost",size:"sm",className:"justify-self-start text-sm font-semibold text-foreground",children:["Filters"," ",s>0&&(0,r.jsxs)("span",{className:"text-foreground/50",children:["(",s,")"]})]})}),(0,r.jsx)(b.Y,{count:a.length}),(0,r.jsx)(j.SortDropdown,{className:"justify-self-end"})]}),(0,r.jsxs)(m,{className:(0,n.cn)("h-[80vh]",t),children:[(0,r.jsxs)(p,{className:"flex justify-between items-center",children:[(0,r.jsxs)(f,{children:["Filters"," ",s>0&&(0,r.jsxs)("span",{className:"text-muted-foreground",children:["(",s,")"]})]}),(0,r.jsx)(o.$,{size:"sm",variant:"ghost",className:(0,n.cn)("font-medium text-foreground/50 hover:text-foreground/60 transition-opacity",0===s&&"opacity-0 pointer-events-none"),disabled:0===s,asChild:s>0,children:(0,r.jsx)(w(),{href:"/shop",prefetch:!0,children:"Clear"})})]}),(0,r.jsxs)("div",{className:"overflow-y-auto flex-1 px-4 pb-4 space-y-6",children:[(0,r.jsx)(h.b,{collections:e}),(0,r.jsx)(x.y,{products:l})]})]})]})})}},44494:(e,t,s)=>{Promise.resolve().then(s.bind(s,55736))},47354:(e,t,s)=>{"use strict";s.d(t,{ShopBreadcrumb:()=>f});var r=s(60687);s(43210);var a=s(11329),n=s(14952),o=s(96241);function l({...e}){return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function i({className:e,...t}){return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,o.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function c({className:e,...t}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,o.cn)("inline-flex items-center gap-1.5",e),...t})}function d({asChild:e,className:t,...s}){let n=e?a.DX:"a";return(0,r.jsx)(n,{"data-slot":"breadcrumb-link",className:(0,o.cn)("hover:text-foreground transition-colors font-medium",t),...s})}function u({className:e,...t}){return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("text-foreground font-semibold",e),...t})}function m({children:e,className:t,...s}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",t),...s,children:e??(0,r.jsx)(n.A,{})})}var p=s(16189);function f({collections:e,className:t}){let s=(0,p.useParams)().collection;return(0,r.jsx)(l,{className:t,children:(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{className:"cursor-pointer text-foreground/50 hover:text-foreground/70",children:(0,r.jsx)(d,{href:"/shop",className:"font-semibold",children:"Shop"})}),(0,r.jsx)(m,{}),(0,r.jsx)(u,{className:"font-semibold",children:(()=>{if(void 0===s)return"All";let t=e.find(e=>e.handle===s);return t?.title})()})]})})}},47373:(e,t,s)=>{"use strict";s.d(t,{ProductListContent:()=>S});var r=s(60687),a=s(43210),n=s(85814),o=s.n(n),l=s(12872),i=s(53976),c=s(39131);let d=({product:e})=>{let{options:t}=e;return t.length&&(1!==t.length||t[0]?.values.length!==1)?(0,r.jsx)(r.Fragment,{children:t.map(t=>(0,r.jsx)(c.VariantOptionSelector,{option:t,product:e,variant:"condensed"},t.id))}):null};var u=s(30474);let m=(0,a.memo)(({product:e})=>{let t=(0,c.Y)(e),[s]=(0,c.x)(e,t?.selectedOptions),a=s||e.featuredImage||(e.images&&e.images.length>0?e.images[0]:null);return a&&a.url?(0,r.jsx)(u.default,{src:a.url,alt:a.altText||e.title,width:a.width||600,height:a.height||600,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover size-full",quality:85,loading:"lazy",placeholder:a?.thumbhash?"blur":void 0,blurDataURL:a?.thumbhash}):(0,r.jsx)("div",{className:"size-full bg-muted flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-muted-foreground text-sm",children:"No image available"})})});var p=s(24934),f=s(70334),h=s(59821);let x=(0,a.memo)(({product:e})=>{let t=0===e.options.length,s=1===e.options.length&&1===e.options[0].values.length,n=1===e.options.length&&"color"===e.options[0].name.toLowerCase(),c=t||s||n,u="wine-box"===e.productType,x=e.discountInfo;return(0,r.jsxs)("div",{className:"relative w-full aspect-[3/4] md:aspect-square bg-muted group overflow-hidden",children:[u&&x&&(0,r.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,r.jsxs)(h.E,{className:"bg-green-100 text-green-800 border-green-200",children:[Math.round(x.discountPercentage),"% OFF"]})}),(0,r.jsx)(o(),{href:`/product/${e.handle}`,className:"block size-full focus-visible:outline-none","aria-label":`View details for ${e.title}, price ${e.priceRange.minVariantPrice}`,prefetch:!0,children:(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(m,{product:e})})}),(0,r.jsxs)("div",{className:"absolute inset-0 p-2 w-full pointer-events-none",children:[(0,r.jsxs)("div",{className:"flex gap-6 justify-between items-baseline px-3 py-1 w-full font-semibold transition-all duration-300 translate-y-0 max-md:hidden group-hover:opacity-0 group-focus-visible:opacity-0 group-hover:-translate-y-full group-focus-visible:-translate-y-full",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-sm uppercase 2xl:text-base text-balance",children:e.title}),e.producerName&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground font-normal",children:e.producerName})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center text-sm uppercase 2xl:text-base",children:[(0,i.$g)(e.priceRange.minVariantPrice.amount,e.priceRange.minVariantPrice.currencyCode),u&&x&&(0,r.jsx)("span",{className:"line-through opacity-30 text-xs",children:(0,i.$g)(Math.round(x.totalWinePrice).toString(),e.priceRange.minVariantPrice.currencyCode)}),e.compareAtPrice&&!u&&(0,r.jsx)("span",{className:"line-through opacity-30",children:(0,i.$g)(e.compareAtPrice.amount,e.compareAtPrice.currencyCode)})]})]}),(0,r.jsx)("div",{className:"flex absolute inset-x-3 bottom-3 flex-col gap-8 px-2 py-3 rounded-md transition-all duration-300 pointer-events-none bg-popover md:opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 md:translate-y-1/3 group-hover:translate-y-0 group-focus-visible:translate-y-0 group-hover:pointer-events-auto group-focus-visible:pointer-events-auto max-md:pointer-events-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8 items-end",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-pretty",children:e.title}),e.producerName&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-normal",children:e.producerName})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center place-self-end text-lg font-semibold",children:[(0,i.$g)(e.priceRange.minVariantPrice.amount,e.priceRange.minVariantPrice.currencyCode),u&&x&&(0,r.jsx)("span",{className:"text-base line-through opacity-30",children:(0,i.$g)(Math.round(x.totalWinePrice).toString(),e.priceRange.minVariantPrice.currencyCode)}),e.compareAtPrice&&!u&&(0,r.jsx)("span",{className:"text-base line-through opacity-30",children:(0,i.$g)(e.compareAtPrice.amount,e.compareAtPrice.currencyCode)})]}),c?(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)("div",{className:"self-center",children:(0,r.jsx)(d,{product:e})})}):(0,r.jsx)(r.Fragment,{}),c?(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(l.AddToCartButton,{className:"col-start-2",product:e,size:"sm"}),children:(0,r.jsx)(l.AddToCart,{className:"col-start-2",size:"sm",product:e})}):(0,r.jsx)(p.$,{className:"col-start-2",size:"sm",variant:"default",asChild:!0,children:(0,r.jsx)(o(),{href:`/product/${e.handle}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,r.jsx)("span",{children:"View Product"}),(0,r.jsx)(f.A,{})]})})})]})})]})]})});var v=s(96241),g=s(47354),b=s(85106),j=s(14557);function y({collections:e,products:t,className:s}){return(0,r.jsxs)("div",{className:(0,v.cn)("grid grid-cols-3 items-center mb-1 w-full pr-sides",s),children:[(0,r.jsx)(g.ShopBreadcrumb,{collections:e,className:"ml-1"}),(0,r.jsx)(b.Y,{count:t.length}),(0,r.jsx)(j.SortDropdown,{})]})}var w=s(59626),N=s(16454);let C=({children:e})=>(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:e});var P=s(55192);function S({products:e,collections:t}){let{setProducts:s,setOriginalProducts:n}=(0,w.Q)(),[o]=(0,N.ZA)("fcolor",(0,N.IN)(N.tU).withDefault([])),l=(0,a.useMemo)(()=>o&&0!==o.length?o&&0!==o.length?e.filter(e=>{let t=e.variants?.some(e=>!!e.selectedOptions&&e.selectedOptions.some(e=>{if(!(e.name.toLowerCase().includes("color")||e.name.toLowerCase().includes("colour")))return!1;let t=e.value.toLowerCase();return o.some(e=>e.toLowerCase()===t||t.includes(e.toLowerCase())||e.toLowerCase().includes(t))}));if(!t&&e.options){let t=e.options.find(e=>e.name.toLowerCase().includes("color")||e.name.toLowerCase().includes("colour"));if(t&&t.values)return t.values.some(e=>{let t=("string"==typeof e?e:e.name||e.id).toLowerCase();return o.some(e=>e.toLowerCase()===t||t.includes(e.toLowerCase())||e.toLowerCase().includes(t))})}return t}):e:e,[e,o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{className:"max-md:hidden",collections:t,products:l}),l.length>0?(0,r.jsx)(C,{children:l.map(e=>(0,r.jsx)(x,{product:e},e.id))}):(0,r.jsx)(P.Zp,{className:"flex mr-sides flex-1 items-center justify-center",children:(0,r.jsx)("p",{className:"text text-muted-foreground font-medium",children:"No products found"})})]})}},51034:(e,t,s)=>{"use strict";s.d(t,{ShopBreadcrumb:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call ShopBreadcrumb() from the server but ShopBreadcrumb is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/components/shop-breadcrumb.tsx","ShopBreadcrumb")},52847:(e,t,s)=>{"use strict";s.d(t,{y:()=>h});var r=s(60687),a=s(46594),n=s(96241);function o({count:e=6,className:t,size:s="md"}){return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-wrap gap-1.5",t),children:Array.from({length:e}).map((e,t)=>(0,r.jsx)("div",{className:(0,n.cn)("rounded-full ring ring-foreground/5 relative overflow-hidden bg-foreground/15 animate-pulse",a.UZ[s])},t))})}var l=s(16454),i=s(19361),c=s(43210);let d=[{name:"Olive",value:i.hs.olive},{name:"Beige",value:i.hs.beige},{name:"White",value:i.hs.white},{name:"Blue",value:i.hs.blue},{name:"Brown",value:i.hs.brown},{name:"Sand",value:i.hs.sand},{name:"Green",value:i.hs.green},{name:"Black",value:i.hs.black},{name:"Orange",value:i.hs.orange},{name:"Dark Brown",value:i.hs["dark-brown"]},{name:"Pink",value:i.hs.pink},{name:"Red",value:i.hs.red},{name:"Yellow",value:i.hs.yellow},{name:"Purple",value:i.hs.purple},{name:"Gray",value:i.hs.gray},{name:"Gold",value:i.hs.gold},{name:"Silver",value:i.hs.silver},{name:"Army Green",value:i.hs["army-green"]},{name:"Navy Blue",value:i.hs["navy-blue"]},{name:"Navy",value:i.hs.navy},{name:"Navy Blue",value:i.hs["navy-blue"]},{name:"Navy Blue",value:i.hs["navy-blue"]},{name:"Coral",value:i.hs.coral},{name:"Salmon",value:i.hs.salmon},{name:"Khaki",value:i.hs.khaki},{name:"Sand",value:i.hs.sand},{name:"Plum",value:i.hs.plum},{name:"Tan",value:i.hs.tan},{name:"Crimson",value:i.hs.crimson},{name:"Turquoise",value:i.hs.turquoise},{name:"Lavender",value:i.hs.lavender},{name:"Ivory",value:i.hs.ivory},{name:"Mint",value:i.hs.mint},{name:"Peach",value:i.hs.peach},{name:"Pistachio",value:i.hs.pistachio},{name:"Cream",value:i.hs.cream},{name:"Wood",value:i.hs.wood}],u=e=>{if(Array.isArray(e)){let[t,s]=e;return`${t.name}/${s.name}`}return e.name};var m=s(86418),p=s(88920),f=s(92576);function h({products:e=[],className:t}){let{availableColors:s,selectedColors:i,toggleColor:h}=function(e){let[t,s]=(0,l.ZA)("fcolor",(0,l.IN)(l.tU).withDefault([])),r=(0,c.useMemo)(()=>{let t=new Set;return e.forEach(e=>{let s=e.options.find(e=>"color"===e.name.toLowerCase());s&&s.values.forEach(e=>{let s;if("string"==typeof e)s=e.toLowerCase();else{if(!e||"object"!=typeof e||!("name"in e)||"string"!=typeof e.name)return;s=e.name.toLowerCase()}let r=d.find(e=>e.name.toLowerCase()===s);r&&t.add(r.name)})}),t},[e]),a=d.filter(e=>r.has(e.name)),n=a.filter(e=>t.includes(e.name));return{availableColors:a,selectedColors:n,toggleColor:e=>{let r=u(e);s(t.includes(r)?t.filter(e=>e!==r):[...t,r])},activeColorFilters:t}}(e),x=(0,m.i2)(),[v,g]=(0,c.useState)(!1),b=0===e.length,j=s.length>0;return v?(0,r.jsx)(p.N,{initial:!1,children:(j||b)&&(0,r.jsxs)(f.P.div,{layoutId:"color-filter",layout:"size",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,n.cn)("px-3 py-4 rounded-md bg-muted",t),children:[(0,r.jsxs)("h3",{className:"mb-4 font-semibold",children:["Color"," ",x>0&&(0,r.jsxs)("span",{className:"text-foreground/50",children:["(",x,")"]})]}),b?(0,r.jsx)(o,{count:4}):(0,r.jsx)(a.sk,{colors:s,selectedColors:i,onColorChange:h})]})}):(0,r.jsxs)("div",{className:(0,n.cn)("px-3 py-4 rounded-md bg-muted",t),children:[(0,r.jsxs)("h3",{className:"mb-4 font-semibold",children:["Color"," ",x>0&&(0,r.jsxs)("span",{className:"text-foreground/50",children:["(",x,")"]})]}),b?(0,r.jsx)(o,{count:4}):(0,r.jsx)(a.sk,{colors:s,selectedColors:i,onColorChange:h})]})}},53251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>a.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>r.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>r.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>r.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>r.fk});var r=s(45063),a=s(23234)},55192:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>o,aR:()=>l});var r=s(60687),a=s(43210),n=s(96241);let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-md bg-card text-card-foreground",e),...t}));o.displayName="Card";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-4",e),...t}));l.displayName="CardHeader";let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold text-lg leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-4 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55736:(e,t,s)=>{"use strict";s.d(t,{ProductListContent:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call ProductListContent() from the server but ProductListContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/app/shop/components/product-list-content.tsx","ProductListContent")},58561:(e,t,s)=>{Promise.resolve().then(s.bind(s,47373))},59626:(e,t,s)=>{"use strict";s.d(t,{ProductsProvider:()=>o,Q:()=>l});var r=s(60687),a=s(43210);let n=(0,a.createContext)(void 0);function o({children:e}){let[t,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]);return(0,r.jsx)(n.Provider,{value:{products:t,setProducts:s,originalProducts:o,setOriginalProducts:l},children:e})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useProducts must be used within a ProductsProvider");return e}},59821:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(60687);s(43210);var a=s(11329),n=s(24224),o=s(96241);let l=(0,n.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,asChild:s=!1,...n}){let i=s?a.DX:"span";return(0,r.jsx)(i,{"data-slot":"badge",className:(0,o.cn)(l({variant:t}),e),...n})}},63587:(e,t,s)=>{"use strict";s.d(t,{X_:()=>d,d$:()=>l,ld:()=>u,oo:()=>i,qw:()=>c});var r=s(33599);let a=process.env.APP_URL||"http://localhost:3000",n={products:`${a}/api/crowdvine/products`,product:e=>`${a}/api/crowdvine/products/${e}`,collections:`${a}/api/crowdvine/collections`,collectionProducts:e=>`${a}/api/crowdvine/collections/${e}/products`,cartCreate:`${a}/api/crowdvine/cart`,cartAdd:e=>`${a}/api/crowdvine/cart/${e}/lines/add`,cartUpdate:e=>`${a}/api/crowdvine/cart/${e}/lines/update`,cartRemove:e=>`${a}/api/crowdvine/cart/${e}/lines/remove`};async function o(e){if(!e.ok)throw Error(`API ${e.status}`);return e.json()}async function l(e){let t=new URL(n.products);return e?.limit&&t.searchParams.set("limit",e.limit.toString()),e?.query&&t.searchParams.set("query",e.query),e?.sortKey&&t.searchParams.set("sortKey",e.sortKey),e?.reverse&&t.searchParams.set("reverse",e.reverse.toString()),o(await fetch(t.toString(),{next:{tags:[r.gp.products]}}))}async function i(e){try{return await o(await fetch(n.product(e)))}catch{return null}}async function c(){return o(await fetch(n.collections,{next:{tags:[r.gp.collections]}}))}async function d(e){try{return(await c()).find(t=>t.handle===e)||null}catch{return null}}async function u(e){let t=await d(e.collection);if(!t)return console.error(`Collection not found for handle: ${e.collection}`),[];let s=new URL(n.collectionProducts(t.id));return e?.limit&&s.searchParams.set("limit",e.limit.toString()),e?.query&&s.searchParams.set("query",e.query),e?.sortKey&&s.searchParams.set("sortKey",e.sortKey),e?.reverse&&s.searchParams.set("reverse",e.reverse.toString()),o(await fetch(s.toString(),{next:{tags:[r.gp.products]}}))}},63974:(e,t,s)=>{"use strict";s.d(t,{TR:()=>x,bq:()=>f,eb:()=>v,gC:()=>h,l6:()=>d,mi:()=>g,s3:()=>u,yv:()=>m});var r=s(60687);s(43210);var a=s(94378),n=s(78272),o=s(13964),l=s(3589),i=s(24224),c=s(96241);function d({...e}){return(0,r.jsx)(a.bL,{"data-slot":"select",...e})}function u({...e}){return(0,r.jsx)(a.YJ,{"data-slot":"select-group",...e})}function m({...e}){return(0,r.jsx)(a.WT,{"data-slot":"select-value",...e})}let p=(0,i.F)("border-input bg-white data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-fit items-center justify-between gap-2 rounded-md border px-3 py-2 text-base md:text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:ring-red-500",{variants:{size:{sm:"h-8 text-sm",default:"h-10"}},defaultVariants:{size:"default"}});function f({className:e,size:t,children:s,...o}){return(0,r.jsxs)(a.l9,{"data-slot":"select-trigger",className:(0,c.cn)(p({size:t,className:e})),...o,children:[s,(0,r.jsx)(a.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"opacity-50 size-4"})})]})}function h({className:e,children:t,position:s="popper",...n}){return(0,r.jsx)(a.ZL,{children:(0,r.jsxs)(a.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover/80 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,r.jsx)(b,{}),(0,r.jsx)(a.LM,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,r.jsx)(j,{})]})})}function x({className:e,...t}){return(0,r.jsx)(a.JU,{"data-slot":"select-label",className:(0,c.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...t})}function v({className:e,children:t,...s}){return(0,r.jsxs)(a.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(a.VF,{children:(0,r.jsx)(o.A,{className:"size-4"})})}),(0,r.jsx)(a.p4,{children:t})]})}function g({className:e,...t}){return(0,r.jsx)(a.wv,{"data-slot":"select-separator",className:(0,c.cn)("-mx-1 my-1 h-px pointer-events-none bg-input",e),...t})}function b({className:e,...t}){return(0,r.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex justify-center items-center py-1 cursor-default",e),...t,children:(0,r.jsx)(l.A,{className:"size-4"})})}function j({className:e,...t}){return(0,r.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex justify-center items-center py-1 cursor-default",e),...t,children:(0,r.jsx)(n.A,{className:"size-4"})})}},65077:(e,t,s)=>{Promise.resolve().then(s.bind(s,51034)),Promise.resolve().then(s.bind(s,35146))},74095:(e,t,s)=>{Promise.resolve().then(s.bind(s,36052)),Promise.resolve().then(s.bind(s,94274)),Promise.resolve().then(s.bind(s,59626)),Promise.resolve().then(s.bind(s,18098)),Promise.resolve().then(s.t.bind(s,85814,23))},76034:(e,t,s)=>{"use strict";s.d(t,{$g:()=>r,RM:()=>a});let r=(e,t)=>{let s=Math.ceil("string"==typeof e?parseFloat(e):e);return new Intl.NumberFormat("sv-SE",{style:"currency",currency:t,currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)};function a(e,t="product"){switch(e){case"price-asc":return{sortKey:"PRICE",reverse:!1};case"price-desc":return{sortKey:"PRICE",reverse:!0};case"newest":if("collection"===t)return{sortKey:"CREATED",reverse:!1};return{sortKey:"CREATED_AT",reverse:!1};case"oldest":if("collection"===t)return{sortKey:"CREATED",reverse:!0};return{sortKey:"CREATED_AT",reverse:!0};default:return{sortKey:"RELEVANCE",reverse:!1}}}},83144:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(37413),a=s(63587),n=s(55736),o=s(76034);async function l({collection:e,searchParams:t}){let s="string"==typeof(await t)?.q?(await t).q:void 0,l="string"==typeof(await t)?.sort?(await t).sort:void 0,i="joyco-root"===e||"all-wines"===e||"frontpage"===e||!e,{sortKey:c,reverse:d}=i?(0,o.RM)(l,"product"):(0,o.RM)(l,"collection"),u=[];try{u=i?await (0,a.d$)({sortKey:c,query:s,reverse:d}):await (0,a.ld)({collection:e,query:s,sortKey:c,reverse:d})}catch(e){console.error("Error fetching products:",e),u=[]}let m=await (0,a.qw)();return(0,r.jsx)(n.ProductListContent,{products:u,collections:m})}},85106:(e,t,s)=>{"use strict";s.d(t,{Y:()=>n});var r=s(60687),a=s(96241);function n({count:e,className:t}){return(0,r.jsxs)("span",{className:(0,a.cn)("place-self-center text-sm text-foreground/50",t),children:[e," results"]})}},86418:(e,t,s)=>{"use strict";s.d(t,{Z6:()=>n,h:()=>o,i2:()=>l});var r=s(16454),a=s(16189);function n(){let e=(0,a.useParams)(),[t]=(0,r.ZA)("fcolor",(0,r.IN)(r.tU).withDefault([])),s=0;return t.length>0&&(s+=t.length),e.collection&&void 0!==e.collection&&(s+=1),s}function o(){let e=(0,a.useParams)();return e.collection&&void 0!==e.collection?1:0}function l(){let[e]=(0,r.ZA)("fcolor",(0,r.IN)(r.tU).withDefault([]));return e.length}},93331:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,revalidate:()=>d});var r=s(37413),a=s(32368),n=s(61120),o=s(63587),l=s(66503),i=s(34786),c=s(2008);let d=60;async function u({children:e}){let t=[];try{t=await (0,o.qw)()}catch(e){console.warn("Failed to fetch collections in shop layout:",e),t=[]}return(0,r.jsx)(l.M,{children:(0,r.jsx)(c.ProductsProvider,{children:(0,r.jsxs)("div",{className:"flex flex-col md:grid grid-cols-12 md:gap-sides",children:[(0,r.jsx)(n.Suspense,{fallback:null,children:(0,r.jsx)(a.DesktopFilters,{collections:t,className:"col-span-3 max-md:hidden"})}),(0,r.jsx)(n.Suspense,{fallback:null,children:(0,r.jsx)(i.MobileFilters,{collections:t})}),(0,r.jsx)("div",{className:"col-span-9 flex flex-col h-full",children:(0,r.jsx)(n.Suspense,{fallback:null,children:e})})]})})})}},94274:(e,t,s)=>{"use strict";s.d(t,{DesktopFilters:()=>f});var r=s(60687),a=s(43210),n=s(96241),o=s(24934),l=s(85814),i=s.n(l),c=s(95715),d=s(20185),u=s(52847),m=s(59626),p=s(86418);function f({collections:e,className:t}){let{originalProducts:s}=(0,m.Q)(),l=(0,p.Z6)();return(0,r.jsxs)("aside",{className:(0,n.cn)("grid sticky top-0 grid-cols-3 h-screen pl-sides pt-top-spacing",t),children:[(0,r.jsxs)("div",{className:"flex flex-col col-span-3 xl:col-span-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-baseline pl-2 -mb-2",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold",children:["Filter"," ",l>0&&(0,r.jsxs)("span",{className:"text-foreground/50",children:["(",l,")"]})]}),(0,r.jsx)(o.$,{size:"sm",variant:"ghost","aria-label":"Clear all filters",className:"font-medium text-foreground/50 hover:text-foreground/60",asChild:!0,children:(0,r.jsx)(i(),{href:"/shop",prefetch:!0,children:"Clear"})})]}),(0,r.jsxs)(a.Suspense,{fallback:null,children:[(0,r.jsx)(d.b,{collections:e}),(0,r.jsx)(u.y,{products:s})]})]}),(0,r.jsx)("div",{className:"col-span-3 self-end",children:(0,r.jsx)(c.U,{className:"flex-col-reverse py-sides",size:"sm"})})]})}}};