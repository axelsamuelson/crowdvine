exports.id=2747,exports.ids=[2747],exports.modules={3018:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>d,TN:()=>c,XL:()=>o,ju:()=>n});var s=a(60687),r=a(43210),i=a(24224),l=a(96241);let n=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-3 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-card text-foreground",destructive:"border-destructive/50 bg-card text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 bg-green-50 text-green-700 dark:border-green-500 dark:bg-green-950 dark:text-green-300 [&>svg]:text-green-600 dark:[&>svg]:text-green-400"}},defaultVariants:{variant:"default"}}),d=r.forwardRef(({className:e,variant:t,...a},r)=>(0,s.jsx)("div",{ref:r,role:"alert",className:(0,l.cn)(n({variant:t}),e),...a}));d.displayName="Alert";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));o.displayName="AlertTitle";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},15616:(e,t,a)=>{"use strict";a.d(t,{T:()=>l});var s=a(60687),r=a(43210),i=a(96241);let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));l.displayName="Textarea"},39390:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(60687),r=a(43210),i=a(78696),l=a(24224),n=a(96241);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.b,{ref:a,className:(0,n.cn)(d(),e),...t}));o.displayName=i.b.displayName},46668:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/axelsamuelson/Downloads/crowdvine_01/components/admin/pallet-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/axelsamuelson/Downloads/crowdvine_01/components/admin/pallet-form.tsx","default")},53251:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>r.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>s.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>s.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>s.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>s.fk});var s=a(45063),r=a(23234)},55192:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n});var s=a(60687),r=a(43210),i=a(96241);let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-md bg-card text-card-foreground",e),...t}));l.displayName="Card";let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-4",e),...t}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("font-semibold text-lg leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-4 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},58866:(e,t,a)=>{Promise.resolve().then(a.bind(a,46668))},63974:(e,t,a)=>{"use strict";a.d(t,{TR:()=>v,bq:()=>m,eb:()=>b,gC:()=>x,l6:()=>c,mi:()=>g,s3:()=>u,yv:()=>p});var s=a(60687);a(43210);var r=a(94378),i=a(78272),l=a(13964),n=a(3589),d=a(24224),o=a(96241);function c({...e}){return(0,s.jsx)(r.bL,{"data-slot":"select",...e})}function u({...e}){return(0,s.jsx)(r.YJ,{"data-slot":"select-group",...e})}function p({...e}){return(0,s.jsx)(r.WT,{"data-slot":"select-value",...e})}let f=(0,d.F)("border-input bg-white data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-fit items-center justify-between gap-2 rounded-md border px-3 py-2 text-base md:text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:ring-red-500",{variants:{size:{sm:"h-8 text-sm",default:"h-10"}},defaultVariants:{size:"default"}});function m({className:e,size:t,children:a,...l}){return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger",className:(0,o.cn)(f({size:t,className:e})),...l,children:[a,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"opacity-50 size-4"})})]})}function x({className:e,children:t,position:a="popper",...i}){return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover/80 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...i,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,s.jsx)(y,{})]})})}function v({className:e,...t}){return(0,s.jsx)(r.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...t})}function b({className:e,children:t,...a}){return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:t})]})}function g({className:e,...t}){return(0,s.jsx)(r.wv,{"data-slot":"select-separator",className:(0,o.cn)("-mx-1 my-1 h-px pointer-events-none bg-input",e),...t})}function h({className:e,...t}){return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",e),...t,children:(0,s.jsx)(n.A,{className:"size-4"})})}function y({className:e,...t}){return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",e),...t,children:(0,s.jsx)(i.A,{className:"size-4"})})}},68988:(e,t,a)=>{"use strict";a.d(t,{j:()=>l,p:()=>n});var s=a(60687),r=a(43210),i=a(96241);let l=(0,a(24224).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),n=r.forwardRef(({className:e,type:t,...a},r)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",e),ref:r,...a}));n.displayName="Input"},73414:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var s=a(60687),r=a(43210),i=a(16189),l=a(24934),n=a(68988),d=a(39390),o=a(15616),c=a(63974),u=a(55192),p=a(3018);function f({pallet:e}){let[t,a]=(0,r.useState)({name:e?.name||"",description:e?.description||"",delivery_zone_id:e?.delivery_zone_id||"",pickup_zone_id:e?.pickup_zone_id||"",cost_cents:e?.cost_cents||0,bottle_capacity:e?.bottle_capacity||0}),[f,m]=(0,r.useState)([]),[x,v]=(0,r.useState)([]),[b,g]=(0,r.useState)(""),[h,y]=(0,r.useState)(!1),j=(0,i.useRouter)(),w=async a=>{a.preventDefault(),y(!0),g("");let s=[];if(t.name.trim()||s.push("Name"),t.delivery_zone_id||s.push("Delivery Zone"),t.pickup_zone_id||s.push("Pickup Zone"),t.cost_cents<0&&s.push("Cost"),t.bottle_capacity<=0&&s.push("Bottle Capacity"),s.length>0){g(`Please fill in the following required fields: ${s.join(", ")}`),y(!1);return}if(t.delivery_zone_id===t.pickup_zone_id){g("Delivery zone and pickup zone must be different"),y(!1);return}try{let a=e?`/api/admin/pallets/${e.id}`:"/api/admin/pallets",s=e?"PUT":"POST",r=await fetch(a,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to save pallet")}j.push("/admin/pallets")}catch(e){console.error("Pallet creation error:",e),e instanceof Error?g(`Failed to save pallet: ${e.message}`):g("An unexpected error occurred while saving the pallet")}finally{y(!1)}},N=(e,t)=>{a(a=>({...a,[e]:t}))};return(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:e?"Edit Pallet":"Add Pallet"}),(0,s.jsx)(u.BT,{children:e?"Update pallet information":"Create a new pallet"})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[b&&(0,s.jsx)(p.Fc,{variant:"destructive",children:(0,s.jsx)(p.TN,{children:b})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"name",children:"Name *"}),(0,s.jsx)(n.p,{id:"name",value:t.name,onChange:e=>N("name",e.target.value),placeholder:"Standard Pallet",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(o.T,{id:"description",value:t.description,onChange:e=>N("description",e.target.value),placeholder:"Description of the pallet...",rows:3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"delivery_zone_id",children:"Delivery Zone *"}),(0,s.jsxs)(c.l6,{value:t.delivery_zone_id,onValueChange:e=>N("delivery_zone_id",e),required:!0,children:[(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Select delivery zone"})}),(0,s.jsx)(c.gC,{children:f.map(e=>(0,s.jsx)(c.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"pickup_zone_id",children:"Pickup Zone *"}),(0,s.jsxs)(c.l6,{value:t.pickup_zone_id,onValueChange:e=>N("pickup_zone_id",e),required:!0,children:[(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Select pickup zone"})}),(0,s.jsx)(c.gC,{children:x.map(e=>(0,s.jsx)(c.eb,{value:e.id,children:e.name},e.id))})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"cost_cents",children:"Cost (SEK) *"}),(0,s.jsx)(n.p,{id:"cost_cents",type:"number",step:"0.01",value:(t.cost_cents/100).toFixed(2),onChange:e=>N("cost_cents",Math.round(100*parseFloat(e.target.value))||0),placeholder:"150.00",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"bottle_capacity",children:"Bottle Capacity *"}),(0,s.jsx)(n.p,{id:"bottle_capacity",type:"number",value:t.bottle_capacity,onChange:e=>N("bottle_capacity",parseInt(e.target.value)||0),placeholder:"72",required:!0})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>j.back(),children:"Cancel"}),(0,s.jsx)(l.$,{type:"submit",disabled:h,children:h?"Saving...":e?"Update Pallet":"Create Pallet"})]})]})})]})}},78696:(e,t,a)=>{"use strict";a.d(t,{b:()=>d});var s=a(43210);a(51215);var r=a(11329),i=a(60687),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.TL)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(r?a:t,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),n=s.forwardRef((e,t)=>(0,i.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var d=n},82426:(e,t,a)=>{Promise.resolve().then(a.bind(a,73414))},99897:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"003782174d8a3d55037297099e3a362cb75f58328c":()=>s.$$RSC_SERVER_ACTION_0,"007576a7507c003d41ccbb09c6db34287f05775842":()=>r.CI,"60e23ebd701beaf98fa7a72caaec9d44d01e5ad1f4":()=>r.bN,"60efcc50e52f4883661f2378341594fcdbc0bab423":()=>r.bm});var s=a(42548),r=a(18092)}};