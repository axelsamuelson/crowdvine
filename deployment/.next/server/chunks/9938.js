"use strict";exports.id=9938,exports.ids=[9938],exports.modules={3213:(e,r,a)=>{a.d(r,{DeleteWineBoxButton:()=>o});var t=a(60687),s=a(43210),i=a(16189),l=a(24934),n=a(8126),d=a(88233);function o({wineBoxId:e,wineBoxName:r}){let[a,o]=(0,s.useState)(!1),c=(0,i.useRouter)(),u=async()=>{o(!0);try{if(!(await fetch(`/api/admin/wine-boxes/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete wine box");c.refresh()}catch(e){console.error("Failed to delete wine box:",e),alert("Failed to delete wine box. Please try again.")}finally{o(!1)}};return(0,t.jsxs)(n.Lt,{children:[(0,t.jsx)(n.tv,{asChild:!0,children:(0,t.jsx)(l.$,{variant:"destructive",size:"sm",children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(n.EO,{children:[(0,t.jsxs)(n.wd,{children:[(0,t.jsx)(n.r7,{children:"Delete Wine Box"}),(0,t.jsxs)(n.$v,{children:['Are you sure you want to delete the wine box "',r,'"? This action cannot be undone and will also remove all associated wine items.']})]}),(0,t.jsxs)(n.ck,{children:[(0,t.jsx)(n.Zr,{children:"Cancel"}),(0,t.jsx)(n.Rx,{onClick:u,disabled:a,className:"bg-red-600 hover:bg-red-700",children:a?"Deleting...":"Delete"})]})]})]})}},8126:(e,r,a)=>{a.d(r,{Lt:()=>L,Rx:()=>Z,Zr:()=>P,EO:()=>I,$v:()=>V,ck:()=>B,wd:()=>T,r7:()=>M,tv:()=>W});var t=a(60687),s=a(43210),i=a(11273),l=a(98599),n=a(25448),d=a(70569);s.forwardRef((e,r)=>{let{children:a,...i}=e,l=s.Children.toArray(a),n=l.find(u);if(n){let e=n.props.children,a=l.map(r=>r!==n?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...i,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,t.jsx)(o,{...i,ref:r,children:a})}).displayName="Slot";var o=s.forwardRef((e,r)=>{let{children:a,...t}=e;if(s.isValidElement(a)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(a=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a);return s.cloneElement(a,{...function(e,r){let a={...r};for(let t in r){let s=e[t],i=r[t];/^on[A-Z]/.test(t)?s&&i?a[t]=(...e)=>{i(...e),s(...e)}:s&&(a[t]=s):"style"===t?a[t]={...s,...i}:"className"===t&&(a[t]=[s,i].filter(Boolean).join(" "))}return{...e,...a}}(t,a.props),ref:r?(0,l.t)(r,e):e})}return s.Children.count(a)>1?s.Children.only(null):null});o.displayName="SlotClone";var c=({children:e})=>(0,t.jsx)(t.Fragment,{children:e});function u(e){return s.isValidElement(e)&&e.type===c}var f="AlertDialog",[m,p]=(0,i.A)(f,[n.Hs]),x=(0,n.Hs)(),b=e=>{let{__scopeAlertDialog:r,...a}=e,s=x(r);return(0,t.jsx)(n.bL,{...s,...a,modal:!0})};b.displayName=f;var v=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,t.jsx)(n.l9,{...i,...s,ref:r})});v.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:r,...a}=e,s=x(r);return(0,t.jsx)(n.ZL,{...s,...a})};g.displayName="AlertDialogPortal";var h=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,t.jsx)(n.hJ,{...i,...s,ref:r})});h.displayName="AlertDialogOverlay";var y="AlertDialogContent",[w,N]=m(y),j=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,children:i,...o}=e,u=x(a),f=s.useRef(null),m=(0,l.s)(r,f),p=s.useRef(null);return(0,t.jsx)(n.G$,{contentName:y,titleName:R,docsSlug:"alert-dialog",children:(0,t.jsx)(w,{scope:a,cancelRef:p,children:(0,t.jsxs)(n.UC,{role:"alertdialog",...u,...o,ref:m,onOpenAutoFocus:(0,d.m)(o.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(c,{children:i}),(0,t.jsx)(F,{contentRef:f})]})})})});j.displayName=y;var R="AlertDialogTitle",k=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,t.jsx)(n.hE,{...i,...s,ref:r})});k.displayName=R;var A="AlertDialogDescription",C=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,t.jsx)(n.VY,{...i,...s,ref:r})});C.displayName=A;var D=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,t.jsx)(n.bm,{...i,...s,ref:r})});D.displayName="AlertDialogAction";var E="AlertDialogCancel",S=s.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:i}=N(E,a),d=x(a),o=(0,l.s)(r,i);return(0,t.jsx)(n.bm,{...d,...s,ref:o})});S.displayName=E;var F=({contentRef:e})=>{let r=`\`${y}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${y}\` by passing a \`${A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${y}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},$=a(96241),O=a(24934);let L=b,W=v,z=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(h,{className:(0,$.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:a}));z.displayName=h.displayName;let I=s.forwardRef(({className:e,...r},a)=>(0,t.jsxs)(g,{children:[(0,t.jsx)(z,{}),(0,t.jsx)(j,{ref:a,className:(0,$.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));I.displayName=j.displayName;let T=({className:e,...r})=>(0,t.jsx)("div",{className:(0,$.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...r});T.displayName="AlertDialogHeader";let B=({className:e,...r})=>(0,t.jsx)("div",{className:(0,$.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});B.displayName="AlertDialogFooter";let M=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(k,{ref:a,className:(0,$.cn)("text-lg font-semibold",e),...r}));M.displayName=k.displayName;let V=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(C,{ref:a,className:(0,$.cn)("text-sm text-muted-foreground",e),...r}));V.displayName=C.displayName;let Z=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(D,{ref:a,className:(0,$.cn)((0,O.r)(),e),...r}));Z.displayName=D.displayName;let P=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(S,{ref:a,className:(0,$.cn)((0,O.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));P.displayName=S.displayName},11860:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(62688).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},13861:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(62688).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},13964:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},15616:(e,r,a)=>{a.d(r,{T:()=>l});var t=a(60687),s=a(43210),i=a(96241);let l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));l.displayName="Textarea"},39390:(e,r,a)=>{a.d(r,{J:()=>o});var t=a(60687),s=a(43210),i=a(78696),l=a(24224),n=a(96241);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(i.b,{ref:a,className:(0,n.cn)(d(),e),...r}));o.displayName=i.b.displayName},53251:(e,r,a)=>{a.r(r),a.d(r,{"002b4f93fdecce38ab41447362701e3bd7280469ab":()=>s.h,"00643ce809e6ce20ef66f5929e0946f9a0888cb71e":()=>t.Xl,"006ce0741515c18fd40bece93393d603e10d5a23d5":()=>t.EM,"402eefbf27465ab7a9e2720f0501458518d9ba2628":()=>t.B5,"404ce88c125f79e5b61af93c3739bd192b253aa6f7":()=>t.fk});var t=a(45063),s=a(23234)},55192:(e,r,a)=>{a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n});var t=a(60687),s=a(43210),i=a(96241);let l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-md bg-card text-card-foreground",e),...r}));l.displayName="Card";let n=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-4",e),...r}));n.displayName="CardHeader";let d=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("font-semibold text-lg leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let o=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-4 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},59821:(e,r,a)=>{a.d(r,{E:()=>d});var t=a(60687);a(43210);var s=a(11329),i=a(24224),l=a(96241);let n=(0,i.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,asChild:a=!1,...i}){let d=a?s.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(n({variant:r}),e),...i})}},61104:(e,r,a)=>{a.d(r,{d:()=>c});var t=a(60687),s=a(43210),i=a(55192),l=a(93437),n=a(68988),d=a(39390),o=a(59821);function c({selectedWines:e,onWinesChange:r}){let[a,c]=(0,s.useState)([]),[u,f]=(0,s.useState)(!0),[m,p]=(0,s.useState)(""),x=(a,t)=>{t?r([...e,{wineId:a,quantity:1}]):r(e.filter(e=>e.wineId!==a))},b=(a,t)=>{t<=0?r(e.filter(e=>e.wineId!==a)):r(e.map(e=>e.wineId===a?{...e,quantity:t}:e))},v=r=>e.some(e=>e.wineId===r),g=r=>{let a=e.find(e=>e.wineId===r);return a?a.quantity:0},h=a.filter(e=>e.title?.toLowerCase().includes(m.toLowerCase())||e.variants?.[0]?.selectedOptions?.some(e=>e.value?.toLowerCase().includes(m.toLowerCase()))),y=e=>(e/100).toFixed(0)+" SEK";return u?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(6)].map((e,r)=>(0,t.jsx)(i.Zp,{className:"animate-pulse",children:(0,t.jsxs)(i.Wu,{className:"p-4",children:[(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded mb-3"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},r))})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"wine-search",children:"Search Wines"}),(0,t.jsx)(n.p,{id:"wine-search",placeholder:"Search by wine name or grape variety...",value:m,onChange:e=>p(e.target.value)})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:h.map(e=>{let r=v(e.id),a=g(e.id);return(0,t.jsx)(i.Zp,{className:`cursor-pointer transition-colors ${r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(l.S,{checked:r,onCheckedChange:r=>x(e.id,r)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate",children:e.title||"Unknown Wine"}),(0,t.jsx)(o.E,{variant:"outline",className:"text-xs",children:y(e.variants?.[0]?.price?.amount?100*parseFloat(e.variants[0].price.amount):0)})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:e.variants?.[0]?.selectedOptions?.map(e=>e.value).join(", ")||"No details"}),r&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.J,{htmlFor:`quantity-${e.id}`,className:"text-xs",children:"Quantity:"}),(0,t.jsx)(n.p,{id:`quantity-${e.id}`,type:"number",min:"1",value:a,onChange:r=>b(e.id,parseInt(r.target.value)||0),className:"w-16 h-8 text-xs"})]})]})]})})},e.id)})}),0===h.length&&(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No wines found matching your search."})]})}},68988:(e,r,a)=>{a.d(r,{j:()=>l,p:()=>n});var t=a(60687),s=a(43210),i=a(96241);let l=(0,a(24224).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),n=s.forwardRef(({className:e,type:r,...a},s)=>(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",e),ref:s,...a}));n.displayName="Input"},78696:(e,r,a)=>{a.d(r,{b:()=>d});var t=a(43210);a(51215);var s=a(11329),i=a(60687),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,s.TL)(`Primitive.${r}`),l=t.forwardRef((e,t)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?a:r,{...l,ref:t})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{}),n=t.forwardRef((e,r)=>(0,i.jsx)(l.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var d=n},83721:(e,r,a)=>{a.d(r,{Z:()=>s});var t=a(43210);function s(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},88233:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},88805:(e,r,a)=>{a.d(r,{X:()=>i});var t=a(43210),s=globalThis?.document?t.useLayoutEffect:()=>{};function i(e){let[r,a]=t.useState(void 0);return s(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let t,s;if(!Array.isArray(r)||!r.length)return;let i=r[0];if("borderBoxSize"in i){let e=i.borderBoxSize,r=Array.isArray(e)?e[0]:e;t=r.inlineSize,s=r.blockSize}else t=e.offsetWidth,s=e.offsetHeight;a({width:t,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}a(void 0)},[e]),r}},93437:(e,r,a)=>{a.d(r,{S:()=>d});var t=a(60687),s=a(43210),i=a(76679),l=a(13964),n=a(96241);let d=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)(i.bL,{ref:a,className:(0,n.cn)("peer bg-background h-4 w-4 shrink-0 rounded-sm border border-primary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(i.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})}));d.displayName=i.bL.displayName},99897:(e,r,a)=>{a.r(r),a.d(r,{"003782174d8a3d55037297099e3a362cb75f58328c":()=>t.$$RSC_SERVER_ACTION_0,"007576a7507c003d41ccbb09c6db34287f05775842":()=>s.CI,"60e23ebd701beaf98fa7a72caaec9d44d01e5ad1f4":()=>s.bN,"60efcc50e52f4883661f2378341594fcdbc0bab423":()=>s.bm});var t=a(42548),s=a(18092)}};