"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{16559:(e,r,t)=>{t.d(r,{$v:()=>v,EO:()=>f,Lt:()=>d,Rx:()=>p,Zr:()=>x,ck:()=>m,r7:()=>g,tv:()=>l,wd:()=>b});var a=t(95155),i=t(12115),s=t(62278),n=t(53999),o=t(97168);let d=s.bL,l=s.l9,c=s.ZL,u=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...i,ref:r})});u.displayName=s.hJ.displayName;let f=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(s.UC,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i})]})});f.displayName=s.UC.displayName;let b=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",r),...t})};b.displayName="AlertDialogHeader";let m=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};m.displayName="AlertDialogFooter";let g=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.hE,{ref:r,className:(0,n.cn)("text-lg font-semibold",t),...i})});g.displayName=s.hE.displayName;let v=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.VY,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...i})});v.displayName=s.VY.displayName;let p=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.rc,{ref:r,className:(0,n.cn)((0,o.r)(),t),...i})});p.displayName=s.rc.displayName;let x=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.ZD,{ref:r,className:(0,n.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...i})});x.displayName=s.ZD.displayName},25676:(e,r,t)=>{t.d(r,{d:()=>c});var a=t(95155),i=t(12115),s=t(88482),n=t(95139),o=t(89852),d=t(82714),l=t(88145);function c(e){let{selectedWines:r,onWinesChange:t}=e,[c,u]=(0,i.useState)([]),[f,b]=(0,i.useState)(!0),[m,g]=(0,i.useState)("");(0,i.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/crowdvine/products?limit=100");if(e.ok){let r=await e.json();u(r)}}catch(e){console.error("Error fetching wines:",e)}finally{b(!1)}},p=(e,a)=>{a?t([...r,{wineId:e,quantity:1}]):t(r.filter(r=>r.wineId!==e))},x=(e,a)=>{a<=0?t(r.filter(r=>r.wineId!==e)):t(r.map(r=>r.wineId===e?{...r,quantity:a}:r))},h=e=>r.some(r=>r.wineId===e),y=e=>{let t=r.find(r=>r.wineId===e);return t?t.quantity:0},w=c.filter(e=>{var r,t,a,i;return(null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(i=e.variants)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:null===(t=a.selectedOptions)||void 0===t?void 0:t.some(e=>{var r;return null===(r=e.value)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase())}))}),N=e=>(e/100).toFixed(0)+" SEK";return f?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded animate-pulse"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(6)].map((e,r)=>(0,a.jsx)(s.Zp,{className:"animate-pulse",children:(0,a.jsxs)(s.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded mb-3"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},r))})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"wine-search",children:"Search Wines"}),(0,a.jsx)(o.p,{id:"wine-search",placeholder:"Search by wine name or grape variety...",value:m,onChange:e=>g(e.target.value)})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:w.map(e=>{var r,t,i,c,u,f;let b=h(e.id),m=y(e.id);return(0,a.jsx)(s.Zp,{className:"cursor-pointer transition-colors ".concat(b?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),children:(0,a.jsx)(s.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(n.S,{checked:b,onCheckedChange:r=>p(e.id,r)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm truncate",children:e.title||"Unknown Wine"}),(0,a.jsx)(l.E,{variant:"outline",className:"text-xs",children:N((null===(i=e.variants)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(r=t.price)||void 0===r?void 0:r.amount)?100*parseFloat(e.variants[0].price.amount):0)})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:(null===(f=e.variants)||void 0===f?void 0:null===(u=f[0])||void 0===u?void 0:null===(c=u.selectedOptions)||void 0===c?void 0:c.map(e=>e.value).join(", "))||"No details"}),b&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.J,{htmlFor:"quantity-".concat(e.id),className:"text-xs",children:"Quantity:"}),(0,a.jsx)(o.p,{id:"quantity-".concat(e.id),type:"number",min:"1",value:m,onChange:r=>x(e.id,parseInt(r.target.value)||0),className:"w-16 h-8 text-xs"})]})]})]})})},e.id)})}),0===w.length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No wines found matching your search."})]})}},28513:(e,r,t)=>{t.d(r,{DeleteWineBoxButton:()=>l});var a=t(95155),i=t(12115),s=t(35695),n=t(97168),o=t(16559),d=t(62525);function l(e){let{wineBoxId:r,wineBoxName:t}=e,[l,c]=(0,i.useState)(!1),u=(0,s.useRouter)(),f=async()=>{c(!0);try{if(!(await fetch("/api/admin/wine-boxes/".concat(r),{method:"DELETE"})).ok)throw Error("Failed to delete wine box");u.refresh()}catch(e){console.error("Failed to delete wine box:",e),alert("Failed to delete wine box. Please try again.")}finally{c(!1)}};return(0,a.jsxs)(o.Lt,{children:[(0,a.jsx)(o.tv,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"destructive",size:"sm",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(o.EO,{children:[(0,a.jsxs)(o.wd,{children:[(0,a.jsx)(o.r7,{children:"Delete Wine Box"}),(0,a.jsxs)(o.$v,{children:['Are you sure you want to delete the wine box "',t,'"? This action cannot be undone and will also remove all associated wine items.']})]}),(0,a.jsxs)(o.ck,{children:[(0,a.jsx)(o.Zr,{children:"Cancel"}),(0,a.jsx)(o.Rx,{onClick:f,disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?"Deleting...":"Delete"})]})]})]})}},50883:(e,r,t)=>{t.d(r,{E6:()=>i,hs:()=>s,tY:()=>a});let a=[{label:"37\xb047'33.4\"N 122\xb024'18.6\"W",href:"https://maps.app.goo.gl/MnpbPDEHxoDydc9M9"},{label:"(269) 682-1402",href:"https://joyco.studio/showcase"},{label:"Instagram",href:"https://www.instagram.com/joyco.studio/"}],i="Default Title",s={red:"#ef4444",blue:"#3b82f6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",purple:"#a855f7",pink:"#ec4899",black:"#000000",white:"#ffffff",gray:"#6b7280",grey:"#6b7280",brown:"#92400e",navy:"#1e3a8a",teal:"#14b8a6",cyan:"#06b6d4",indigo:"#6366f1",violet:"#8b5cf6",lime:"#84cc16",emerald:"#10b981",rose:"#f43f5e",fuchsia:"#d946ef",slate:"#64748b",neutral:"#737373",stone:"#78716c",zinc:"#71717a","light-blue":"#38bdf8","dark-blue":"#1e40af","light-green":"#4ade80","dark-green":"#232E23","light-gray":"#d1d5db","dark-gray":"#374151","light-grey":"#d1d5db","dark-grey":"#374151","dark-brown":"#6b4a1b",beige:"#f5f5dc",maroon:"#800000",olive:"#808000",aqua:"#00ffff",silver:"#c0c0c0",gold:"#ffd700",coral:"#ff7f50",salmon:"#fa8072",khaki:"#f0e68c",sand:"#e7d3b7",plum:"#dda0dd",tan:"#d2b48c",crimson:"#dc143c",turquoise:"#40e0d0",lavender:"#e6e6fa",ivory:"#fffff0",mint:"#98fb98",peach:"#ffcba4",pistachio:"#93c572",cream:"#edd0ae","army-green":"#4b5320","navy-blue":"#000080",wood:"#8d6e63"}},53999:(e,r,t)=>{t.d(r,{cO:()=>o,cn:()=>n,jo:()=>d});var a=t(52596),i=t(39688),s=t(50883);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.QP)((0,a.$)(r))}function o(e,r){let t=null==r?void 0:r.toString(),a="".concat(t.length?"?":"").concat(t);return"".concat(e).concat(a)}function d(e){if(!e)return"#000000";let r=e.toLowerCase();if(s.hs[r])return s.hs[r];for(let[e,t]of Object.entries(s.hs))if(r.includes(e)||e.includes(r))return t;return"#666666"}},82714:(e,r,t)=>{t.d(r,{J:()=>l});var a=t(95155),i=t(12115),s=t(72797),n=t(74466),o=t(53999);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.b,{ref:r,className:(0,o.cn)(d(),t),...i})});l.displayName=s.b.displayName},88145:(e,r,t)=>{t.d(r,{E:()=>d});var a=t(95155);t(12115);var i=t(66634),s=t(74466),n=t(53999);let o=(0,s.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function d(e){let{className:r,variant:t,asChild:s=!1,...d}=e,l=s?i.DX:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,n.cn)(o({variant:t}),r),...d})}},88482:(e,r,t)=>{t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o});var a=t(95155),i=t(12115),s=t(53999);let n=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-md bg-card text-card-foreground",t),...i})});n.displayName="Card";let o=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-4",t),...i})});o.displayName="CardHeader";let d=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("font-semibold text-lg leading-none tracking-tight",t),...i})});d.displayName="CardTitle";let l=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...i})});l.displayName="CardDescription";let c=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-4 pt-0",t),...i})});c.displayName="CardContent",i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...i})}).displayName="CardFooter"},89852:(e,r,t)=>{t.d(r,{j:()=>n,p:()=>o});var a=t(95155),i=t(12115),s=t(53999);let n=(0,t(74466).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),o=i.forwardRef((e,r)=>{let{className:t,type:i,...n}=e;return(0,a.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",t),ref:r,...n})});o.displayName="Input"},95139:(e,r,t)=>{t.d(r,{S:()=>d});var a=t(95155),i=t(12115),s=t(9146),n=t(5196),o=t(53999);let d=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)(s.bL,{ref:r,className:(0,o.cn)("peer bg-background h-4 w-4 shrink-0 rounded-sm border border-primary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...i,children:(0,a.jsx)(s.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=s.bL.displayName},97168:(e,r,t)=>{t.d(r,{$:()=>l,r:()=>d});var a=t(95155),i=t(12115),s=t(66634),n=t(74466),o=t(53999);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-colors-and-shadows duration-300 ease-out focus-visible:outline-none focus-visible:border-border/15 focus-visible:ring-1 focus-visible:ring-primary/70 focus-visible:ring-offset-4 focus-visible:ring-offset-foreground/20 focus-visible:shadow-button-hover disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-6 [&_svg]:shrink-0 disabled:cursor-not-allowed",{variants:{variant:{default:"border border-border/50 hover:border-border/15 bg-primary/20 focus-visible:bg-primary/30 hover:bg-primary/30 backdrop-blur-sm text-primary ring-1 ring-offset-primary/10 ring-border/10 ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-background/10 backdrop-blur-lg text-foreground hover:bg-background/20",ghost:"font-medium text-foreground/50 hover:bg-accent hover:text-foreground/70 dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",iconButton:"border border-border/50 hover:border-border/15 bg-primary disabled:bg-primary/40 hover:bg-primary backdrop-blur-sm disabled:text-primary-foreground/50 text-primary-foreground ring-1 ring-offset-transparent ring-transparent ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover"},size:{sm:"h-8 px-3 text-xs",default:"h-9 px-4 py-2",lg:"h-10 px-8",icon:"size-9","icon-lg":"size-10","icon-xl":"size-11"},shine:{true:"relative overflow-hidden after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-white/20 after:to-transparent after:animate-shine after:pointer-events-none"}},defaultVariants:{variant:"default",size:"default",shine:!1}}),l=i.forwardRef((e,r)=>{let{className:t,variant:i,size:n,asChild:l=!1,shine:c,...u}=e,f=l?s.DX:"button";return(0,a.jsx)(f,{className:(0,o.cn)(d({variant:i,size:n,className:t,shine:c})),ref:r,...u})});l.displayName="Button"},99474:(e,r,t)=>{t.d(r,{T:()=>n});var a=t(95155),i=t(12115),s=t(53999);let n=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...i})});n.displayName="Textarea"}}]);