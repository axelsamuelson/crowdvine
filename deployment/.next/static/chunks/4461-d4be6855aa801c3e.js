"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4461],{34477:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return a.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return s.findSourceMapURL}});let a=t(53806),s=t(31818),i=t(34979).createServerReference},35695:(e,r,t)=>{var a=t(18999);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},49026:(e,r,t)=>{t.d(r,{Fc:()=>n,TN:()=>c,XL:()=>l,ju:()=>o});var a=t(95155),s=t(12115),i=t(74466),d=t(53999);let o=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-3 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-card text-foreground",destructive:"border-destructive/50 bg-card text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 bg-green-50 text-green-700 dark:border-green-500 dark:bg-green-950 dark:text-green-300 [&>svg]:text-green-600 dark:[&>svg]:text-green-400"}},defaultVariants:{variant:"default"}}),n=s.forwardRef((e,r)=>{let{className:t,variant:s,...i}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:(0,d.cn)(o({variant:s}),t),...i})});n.displayName="Alert";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h5",{ref:r,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})});l.displayName="AlertTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",t),...s})});c.displayName="AlertDescription"},50883:(e,r,t)=>{t.d(r,{E6:()=>s,hs:()=>i,tY:()=>a});let a=[{label:"37\xb047'33.4\"N 122\xb024'18.6\"W",href:"https://maps.app.goo.gl/MnpbPDEHxoDydc9M9"},{label:"(269) 682-1402",href:"https://joyco.studio/showcase"},{label:"Instagram",href:"https://www.instagram.com/joyco.studio/"}],s="Default Title",i={red:"#ef4444",blue:"#3b82f6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",purple:"#a855f7",pink:"#ec4899",black:"#000000",white:"#ffffff",gray:"#6b7280",grey:"#6b7280",brown:"#92400e",navy:"#1e3a8a",teal:"#14b8a6",cyan:"#06b6d4",indigo:"#6366f1",violet:"#8b5cf6",lime:"#84cc16",emerald:"#10b981",rose:"#f43f5e",fuchsia:"#d946ef",slate:"#64748b",neutral:"#737373",stone:"#78716c",zinc:"#71717a","light-blue":"#38bdf8","dark-blue":"#1e40af","light-green":"#4ade80","dark-green":"#232E23","light-gray":"#d1d5db","dark-gray":"#374151","light-grey":"#d1d5db","dark-grey":"#374151","dark-brown":"#6b4a1b",beige:"#f5f5dc",maroon:"#800000",olive:"#808000",aqua:"#00ffff",silver:"#c0c0c0",gold:"#ffd700",coral:"#ff7f50",salmon:"#fa8072",khaki:"#f0e68c",sand:"#e7d3b7",plum:"#dda0dd",tan:"#d2b48c",crimson:"#dc143c",turquoise:"#40e0d0",lavender:"#e6e6fa",ivory:"#fffff0",mint:"#98fb98",peach:"#ffcba4",pistachio:"#93c572",cream:"#edd0ae","army-green":"#4b5320","navy-blue":"#000080",wood:"#8d6e63"}},53999:(e,r,t)=>{t.d(r,{cO:()=>o,cn:()=>d,jo:()=>n});var a=t(52596),s=t(39688),i=t(50883);function d(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}function o(e,r){let t=null==r?void 0:r.toString(),a="".concat(t.length?"?":"").concat(t);return"".concat(e).concat(a)}function n(e){if(!e)return"#000000";let r=e.toLowerCase();if(i.hs[r])return i.hs[r];for(let[e,t]of Object.entries(i.hs))if(r.includes(e)||e.includes(r))return t;return"#666666"}},72797:(e,r,t)=>{t.d(r,{b:()=>n});var a=t(12115);t(47650);var s=t(66634),i=t(95155),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,s.TL)(`Primitive.${r}`),d=a.forwardRef((e,a)=>{let{asChild:s,...d}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?t:r,{...d,ref:a})});return d.displayName=`Primitive.${r}`,{...e,[r]:d}},{}),o=a.forwardRef((e,r)=>(0,i.jsx)(d.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var n=o},82714:(e,r,t)=>{t.d(r,{J:()=>l});var a=t(95155),s=t(12115),i=t(72797),d=t(74466),o=t(53999);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.b,{ref:r,className:(0,o.cn)(n(),t),...s})});l.displayName=i.b.displayName},84461:(e,r,t)=>{t.d(r,{default:()=>b});var a=t(95155),s=t(12115),i=t(35695),d=t(97168),o=t(89852),n=t(82714),l=t(99474),c=t(88482),u=t(49026),f=t(34477);let g=(0,f.createServerReference)("605ef108f16894d4d036ef44663d30f2fdb4f32d28",f.callServer,void 0,f.findSourceMapURL,"updateProducer"),p=(0,f.createServerReference)("407cc8c4465a7985dbae48dd93d0b97fd1d9938259",f.callServer,void 0,f.findSourceMapURL,"createProducer"),v=(0,f.createServerReference)("00251355d62698800fe85cf33b4e8cfe6639d5e0fb",f.callServer,void 0,f.findSourceMapURL,"getPickupZones");function b(e){let{producer:r}=e,[t,f]=(0,s.useState)({name:(null==r?void 0:r.name)||"",region:(null==r?void 0:r.region)||"",lat:(null==r?void 0:r.lat)||0,lon:(null==r?void 0:r.lon)||0,country_code:(null==r?void 0:r.country_code)||"",address_street:(null==r?void 0:r.address_street)||"",address_city:(null==r?void 0:r.address_city)||"",address_postcode:(null==r?void 0:r.address_postcode)||"",short_description:(null==r?void 0:r.short_description)||"",logo_image_path:(null==r?void 0:r.logo_image_path)||"",pickup_zone_id:(null==r?void 0:r.pickup_zone_id)||""}),[b,m]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),[y,j]=(0,s.useState)([]),w=(0,i.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=await v();j(e)}catch(e){console.error("Failed to load pickup zones:",e)}})()},[]);let _=async e=>{e.preventDefault(),x(!0),m("");try{r?await g(r.id,t):await p(t),w.push("/admin/producers")}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{x(!1)}},k=(e,r)=>{f(t=>({...t,[e]:r}))};return(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:r?"Edit Producer":"Add Producer"}),(0,a.jsx)(c.BT,{children:r?"Update producer information":"Create a new wine producer"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[b&&(0,a.jsx)(u.Fc,{variant:"destructive",children:(0,a.jsx)(u.TN,{children:b})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"name",children:"Name *"}),(0,a.jsx)(o.p,{id:"name",value:t.name,onChange:e=>k("name",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"region",children:"Region *"}),(0,a.jsx)(o.p,{id:"region",value:t.region,onChange:e=>k("region",e.target.value),required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"lat",children:"Latitude *"}),(0,a.jsx)(o.p,{id:"lat",type:"number",step:"0.0001",value:t.lat,onChange:e=>k("lat",parseFloat(e.target.value)||0),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"lon",children:"Longitude *"}),(0,a.jsx)(o.p,{id:"lon",type:"number",step:"0.0001",value:t.lon,onChange:e=>k("lon",parseFloat(e.target.value)||0),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"country_code",children:"Country Code *"}),(0,a.jsx)(o.p,{id:"country_code",value:t.country_code,onChange:e=>k("country_code",e.target.value),placeholder:"FR",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"address_street",children:"Street Address *"}),(0,a.jsx)(o.p,{id:"address_street",value:t.address_street,onChange:e=>k("address_street",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"address_city",children:"City *"}),(0,a.jsx)(o.p,{id:"address_city",value:t.address_city,onChange:e=>k("address_city",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"address_postcode",children:"Postal Code *"}),(0,a.jsx)(o.p,{id:"address_postcode",value:t.address_postcode,onChange:e=>k("address_postcode",e.target.value),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"short_description",children:"Description"}),(0,a.jsx)(l.T,{id:"short_description",value:t.short_description,onChange:e=>k("short_description",e.target.value),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"logo_image_path",children:"Logo Image URL"}),(0,a.jsx)(o.p,{id:"logo_image_path",type:"url",value:t.logo_image_path,onChange:e=>k("logo_image_path",e.target.value),placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"pickup_zone_id",children:"Pickup Zone"}),(0,a.jsxs)("select",{id:"pickup_zone_id",value:t.pickup_zone_id||"",onChange:e=>k("pickup_zone_id",e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",children:[(0,a.jsx)("option",{value:"",children:"No pickup zone selected"}),y.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>w.back(),children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",disabled:h,children:h?"Saving...":r?"Update Producer":"Create Producer"})]})]})})]})}},88482:(e,r,t)=>{t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>n,Zp:()=>d,aR:()=>o});var a=t(95155),s=t(12115),i=t(53999);let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-md bg-card text-card-foreground",t),...s})});d.displayName="Card";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-4",t),...s})});o.displayName="CardHeader";let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("font-semibold text-lg leading-none tracking-tight",t),...s})});n.displayName="CardTitle";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-4 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},89852:(e,r,t)=>{t.d(r,{j:()=>d,p:()=>o});var a=t(95155),s=t(12115),i=t(53999);let d=(0,t(74466).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),o=s.forwardRef((e,r)=>{let{className:t,type:s,...d}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",t),ref:r,...d})});o.displayName="Input"},97168:(e,r,t)=>{t.d(r,{$:()=>l,r:()=>n});var a=t(95155),s=t(12115),i=t(66634),d=t(74466),o=t(53999);let n=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-colors-and-shadows duration-300 ease-out focus-visible:outline-none focus-visible:border-border/15 focus-visible:ring-1 focus-visible:ring-primary/70 focus-visible:ring-offset-4 focus-visible:ring-offset-foreground/20 focus-visible:shadow-button-hover disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-6 [&_svg]:shrink-0 disabled:cursor-not-allowed",{variants:{variant:{default:"border border-border/50 hover:border-border/15 bg-primary/20 focus-visible:bg-primary/30 hover:bg-primary/30 backdrop-blur-sm text-primary ring-1 ring-offset-primary/10 ring-border/10 ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-background/10 backdrop-blur-lg text-foreground hover:bg-background/20",ghost:"font-medium text-foreground/50 hover:bg-accent hover:text-foreground/70 dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",iconButton:"border border-border/50 hover:border-border/15 bg-primary disabled:bg-primary/40 hover:bg-primary backdrop-blur-sm disabled:text-primary-foreground/50 text-primary-foreground ring-1 ring-offset-transparent ring-transparent ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover"},size:{sm:"h-8 px-3 text-xs",default:"h-9 px-4 py-2",lg:"h-10 px-8",icon:"size-9","icon-lg":"size-10","icon-xl":"size-11"},shine:{true:"relative overflow-hidden after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-white/20 after:to-transparent after:animate-shine after:pointer-events-none"}},defaultVariants:{variant:"default",size:"default",shine:!1}}),l=s.forwardRef((e,r)=>{let{className:t,variant:s,size:d,asChild:l=!1,shine:c,...u}=e,f=l?i.DX:"button";return(0,a.jsx)(f,{className:(0,o.cn)(n({variant:s,size:d,className:t,shine:c})),ref:r,...u})});l.displayName="Button"},99474:(e,r,t)=>{t.d(r,{T:()=>d});var a=t(95155),s=t(12115),i=t(53999);let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});d.displayName="Textarea"}}]);