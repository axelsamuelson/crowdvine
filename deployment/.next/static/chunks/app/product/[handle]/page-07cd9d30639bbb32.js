(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5861],{11004:(e,t,r)=>{"use strict";r.d(t,{WineBoxDiscountInfo:()=>s});var a=r(95155),i=r(73726),n=r(88482),l=r(88145);function s(e){let{product:t}=e;if("wine-box"!==t.productType||!t.discountInfo)return null;let r=t.discountInfo,s=r.wines||[];return(0,a.jsxs)(n.Zp,{className:"mt-6",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[Math.round(r.discountPercentage),"% OFF"]}),"Discount Details"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Individual Price:"}),(0,a.jsx)("div",{className:"font-semibold",children:(0,i.$g)(Math.round(r.totalWinePrice).toString(),"SEK")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"You Save:"}),(0,a.jsx)("div",{className:"font-semibold text-green-600",children:(0,i.$g)(Math.round(r.discountAmount).toString(),"SEK")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Wines included:"}),(0,a.jsx)("div",{className:"mt-2 space-y-1",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"text-sm",children:["â€¢ ",e.wine_name," ",e.vintage," - ",(0,i.$g)(e.price.toFixed(2),"SEK")]},t))})]})]})]})}},12782:(e,t,r)=>{"use strict";r.d(t,{FooterLogoSvg:()=>o,q:()=>s});var a=r(95155),i=r(12115);let n=null,l=!1;function s(){n=null,l=!1,window.dispatchEvent(new CustomEvent("footerLogoCacheCleared"))}function o(e){let{className:t}=e,[r,s]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(0);return((0,i.useEffect)(()=>{if(n&&Date.now()-n.timestamp<12e4){s(n.value),c(!1);return}let e=new AbortController,t=setTimeout(()=>e.abort(),2e3);return fetch("/api/site-content/footer_logo?t=".concat(Date.now()),{signal:e.signal,cache:"no-cache"}).then(e=>{if(clearTimeout(t),!e.ok)throw Error("Failed to fetch footer logo");return e.json()}).then(e=>{var t;let r=null===(t=e.value)||void 0===t?void 0:t.trim();r&&"null"!==r?(s(r),n={value:r,timestamp:Date.now()},l||(new Image().src=r,l=!0)):(s(null),n={value:null,timestamp:Date.now()})}).catch(e=>{clearTimeout(t),console.warn("Failed to load footer logo:",e),s(null),n={value:null,timestamp:Date.now()}}).finally(()=>{c(!1)}),()=>{clearTimeout(t),e.abort()}},[d]),(0,i.useEffect)(()=>{let e=()=>{u(e=>e+1)};return window.addEventListener("footerLogoCacheCleared",e),()=>window.removeEventListener("footerLogoCacheCleared",e)},[]),o)?(0,a.jsx)("div",{className:t,style:{backgroundColor:"transparent",minHeight:"60px"}}):r?(0,a.jsx)("img",{src:r,alt:"Footer Logo",className:t,style:{objectFit:"contain"},loading:"eager",fetchPriority:"high",onLoad:()=>{l||(new Image().src=r,l=!0)}}):(0,a.jsxs)("svg",{className:t,viewBox:"0 0 200 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"200",height:"60",fill:"currentColor",opacity:"0.1"}),(0,a.jsx)("text",{x:"100",y:"35",textAnchor:"middle",fill:"currentColor",fontSize:"16",fontWeight:"bold",children:"Footer Logo"})]})}},13015:(e,t,r)=>{"use strict";r.d(t,{MobileGallerySlider:()=>c});var a=r(95155),i=r(12115),n=r(66766),l=r(85005),s=r(88145),o=r(56125);function c(e){let{product:t}=e,r=(0,o.Y)(t),c=(0,o.x)(t,null==r?void 0:r.selectedOptions),[d,u]=(0,l.A)({align:"start",dragFree:!1,loop:!1}),[m,v]=(0,i.useState)(0),f=(0,i.useCallback)(()=>{},[]),h=(0,i.useCallback)(e=>{v(e.selectedScrollSnap())},[]);(0,i.useEffect)(()=>{u&&(f(),h(u),u.on("reInit",f),u.on("select",h))},[u,f,h]);let x=c.filter(e=>e&&e.url),g=x.length;return 0===g?null:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{className:"overflow-hidden h-full",ref:d,children:(0,a.jsx)("div",{className:"flex h-full",children:x.map((e,r)=>{var i;return(0,a.jsx)("div",{className:"flex-shrink-0 w-full h-full relative",children:(0,a.jsx)(n.default,{style:{aspectRatio:"".concat(e.width," / ").concat(e.height)},src:e.url,alt:e.altText||t.title,width:e.width||600,height:e.height||600,className:"w-full h-full object-cover",quality:100,priority:0===r})},"".concat(e.url,"-").concat((null===(i=e.selectedOptions)||void 0===i?void 0:i.map((e,t)=>"".concat(e.name,",").concat(e.value)).join("-"))||r))})})}),g>1&&(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:(0,a.jsxs)(s.E,{variant:"outline-secondary",children:[m+1,"/",g]})})]})}},20152:(e,t,r)=>{"use strict";r.d(t,{AddToCart:()=>h,AddToCartButton:()=>f});var a=r(95155),i=r(49103),n=r(12115),l=r(55262),s=r(97168),o=r(56125),c=r(35695),d=r(60760),u=r(38274),m=r(12509);let v=e=>({id:e.id,title:e.title,availableForSale:e.availableForSale,selectedOptions:[],price:e.priceRange.minVariantPrice});function f(e){let{product:t,selectedVariant:r,className:o,iconOnly:c=!1,icon:f=(0,a.jsx)(i.A,{}),...h}=e,{addItem:x}=(0,l._)(),[g,p]=(0,n.useTransition)(),b=(0,n.useMemo)(()=>r||(0===t.variants.length?v(t):1===t.variants.length?t.variants[0]:void 0),[r,t]),j=()=>t.availableForSale?b?"Add To Cart":"Select one":"Out Of Stock",w=!t.availableForSale||!b||g,y=()=>{let e=h.size;return"sm"===e||"icon-sm"===e||"icon"===e?"sm":"icon-lg"===e?"default":"lg"===e?"lg":"default"};return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),b&&p(async()=>{x(b,t)})},className:o,children:(0,a.jsx)(s.$,{type:"submit","aria-label":b?"Add to cart":"Select one",disabled:w,className:c?void 0:"flex relative justify-between items-center w-full",...h,children:(0,a.jsx)(d.N,{initial:!1,mode:"wait",children:c?(0,a.jsx)(u.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},className:"flex justify-center items-center",children:g?(0,a.jsx)(m.a,{size:y()}):(0,a.jsx)("span",{className:"inline-block",children:f})},g?"loading":"icon"):(0,a.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex justify-center items-center w-full",children:g?(0,a.jsx)(m.a,{size:y()}):(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsx)("span",{children:j()}),(0,a.jsx)(i.A,{})]})},g?"loading":j())})})})}function h(e){var t;let{product:r,className:l,iconOnly:s=!1,icon:d=(0,a.jsx)(i.A,{}),...u}=e,{variants:m}=r,h=(0,o.Y)(r),x=(0,c.useParams)(),g=(0,c.useSearchParams)(),p=0===m.length,b=1===m.length?null===(t=m[0])||void 0===t?void 0:t.id:void 0,j=(null==h?void 0:h.id)||b,w=x.handle===r.id||g.get("pid")===r.id,y=(0,n.useMemo)(()=>p?v(r):w||b?m.find(e=>e.id===j):void 0,[p,r,w,b,m,j]);return(0,a.jsx)(f,{product:r,selectedVariant:y,className:l,iconOnly:s,icon:d,...u})}},29174:(e,t,r)=>{Promise.resolve().then(r.bind(r,36909)),Promise.resolve().then(r.bind(r,13015)),Promise.resolve().then(r.bind(r,20152)),Promise.resolve().then(r.bind(r,12782)),Promise.resolve().then(r.bind(r,56125)),Promise.resolve().then(r.bind(r,11004)),Promise.resolve().then(r.t.bind(r,6874,23))},36909:(e,t,r)=>{"use strict";r.d(t,{DesktopGallery:()=>l});var a=r(95155),i=r(56125),n=r(66766);let l=e=>{let{product:t}=e,r=(0,i.Y)(t),l=(0,i.x)(t,null==r?void 0:r.selectedOptions);return l&&0!==l.length?(0,a.jsx)(a.Fragment,{children:l.map(e=>{var r;return e&&e.url?(0,a.jsx)(n.default,{style:{aspectRatio:"".concat(e.width," / ").concat(e.height)},src:e.url,alt:e.altText||t.title,width:e.width||600,height:e.height||600,className:"w-full object-cover",quality:100},"".concat(e.url,"-").concat((null===(r=e.selectedOptions)||void 0===r?void 0:r.map((e,t)=>"".concat(e.name,",").concat(e.value)).join("-"))||e.id||e.url)):null})}):null}},73726:(e,t,r)=>{"use strict";r.d(t,{$g:()=>a});let a=(e,t)=>{let r=Math.ceil("string"==typeof e?parseFloat(e):e);return new Intl.NumberFormat("sv-SE",{style:"currency",currency:t,currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}},88145:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(95155);r(12115);var i=r(66634),n=r(74466),l=r(53999);let s=(0,n.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,asChild:n=!1,...o}=e,c=n?i.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(s({variant:r}),t),...o})}},88482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>s});var a=r(95155),i=r(12115),n=r(53999);let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-md bg-card text-card-foreground",r),...i})});l.displayName="Card";let s=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-4",r),...i})});s.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold text-lg leading-none tracking-tight",r),...i})});o.displayName="CardTitle";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-4 pt-0",r),...i})});d.displayName="CardContent",i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...i})}).displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6874,3063,739,478,9850,1870,8441,1684,7358],()=>t(29174)),_N_E=e.O()}]);