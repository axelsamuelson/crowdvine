(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7020],{50815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var i=a(95155),s=a(12115);function l(){var e,t,a,l;let[d,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),r=async()=>{try{let e=await fetch("/api/crowdvine/cart"),t=await e.json();n(t)}catch(e){console.error("Failed to fetch cart:",e)}},h=async()=>{c(!0);try{let e=await fetch("/api/crowdvine/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lines:[{merchandiseId:"1fc52e4d-a4b9-4c99-b00f-9f5678cd2f61",quantity:1}]})}),t=await e.json();n(t)}catch(e){console.error("Failed to add to cart:",e)}finally{c(!1)}},u=async(e,t)=>{c(!0);try{let a=await fetch("/api/crowdvine/cart/lines/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({lineId:e,quantity:t})}),i=await a.json();n(i)}catch(e){console.error("Failed to update cart:",e)}finally{c(!1)}},x=async e=>{c(!0);try{let t=await fetch("/api/crowdvine/cart/lines/remove?lineId=".concat(e),{method:"DELETE"}),a=await t.json();n(a)}catch(e){console.error("Failed to remove item:",e)}finally{c(!1)}};return(0,s.useEffect)(()=>{r()},[]),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Cart Test Page"}),(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)("button",{onClick:h,disabled:o,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50",children:o?"Adding...":"Add Extralucide to Cart"})}),(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)("button",{onClick:r,disabled:o,className:"bg-green-500 text-white px-4 py-2 rounded disabled:opacity-50",children:"Refresh Cart"})}),d&&(0,i.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Cart Details"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Cart ID:"})," ",d.id]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Total Quantity:"})," ",d.totalQuantity]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Total Amount:"})," ",null===(t=d.cost)||void 0===t?void 0:null===(e=t.totalAmount)||void 0===e?void 0:e.amount," ",null===(l=d.cost)||void 0===l?void 0:null===(a=l.totalAmount)||void 0===a?void 0:a.currencyCode]}),(0,i.jsx)("h3",{className:"text-lg font-semibold mt-6 mb-4",children:"Items:"}),d.lines&&d.lines.length>0?(0,i.jsx)("div",{className:"space-y-4",children:d.lines.map(e=>{var t,a,s,l,d;return(0,i.jsxs)("div",{className:"border rounded p-4",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Product:"})," ",null===(t=e.merchandise)||void 0===t?void 0:t.title]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Quantity:"})," ",e.quantity]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Price:"})," ",null===(s=e.cost)||void 0===s?void 0:null===(a=s.totalAmount)||void 0===a?void 0:a.amount," ",null===(d=e.cost)||void 0===d?void 0:null===(l=d.totalAmount)||void 0===l?void 0:l.currencyCode]}),(0,i.jsxs)("div",{className:"mt-4 space-x-2",children:[(0,i.jsx)("button",{onClick:()=>u(e.id,e.quantity+1),disabled:o,className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:"+"}),(0,i.jsx)("button",{onClick:()=>u(e.id,Math.max(0,e.quantity-1)),disabled:o,className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:"-"}),(0,i.jsx)("button",{onClick:()=>x(e.id),disabled:o,className:"bg-red-500 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:"Remove"})]})]},e.id)})}):(0,i.jsx)("p",{className:"text-gray-500",children:"No items in cart"})]}),(0,i.jsx)("pre",{className:"mt-8 bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(d,null,2)})]})}},72042:(e,t,a)=>{Promise.resolve().then(a.bind(a,50815))}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(72042)),_N_E=e.O()}]);