(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{4516:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},17580:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},29799:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},30506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var a=t(95155),r=t(12115),l=t(35695),i=t(97168),n=t(88482),d=t(89852),o=t(82714),c=t(95139),u=t(95784),m=t(88145),x=t(99840),h=t(56671),p=t(71007);function f(e){let{onProfileSaved:s,trigger:t}=e,[l,n]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[f,v]=(0,r.useState)({full_name:"",phone:"",address:"",city:"",postal_code:"",country:"Sweden"}),y=async()=>{m(!0);try{let e=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!e.ok)throw Error("Failed to save profile");let t=await e.json();s(t),n(!1),h.o.success("Profile information saved successfully!")}catch(e){console.error("Error saving profile:",e),h.o.error("Failed to save profile information")}finally{m(!1)}};return(0,a.jsxs)(x.lG,{open:l,onOpenChange:n,children:[(0,a.jsx)(x.zM,{asChild:!0,children:t||(0,a.jsxs)(i.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Profile Information"]})}),(0,a.jsxs)(x.Cf,{className:"max-w-md",children:[(0,a.jsx)(x.c7,{children:(0,a.jsxs)(x.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),"Add Profile Information"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"full_name",children:"Full Name"}),(0,a.jsx)(d.p,{id:"full_name",value:f.full_name,onChange:e=>v({...f,full_name:e.target.value}),placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(d.p,{id:"phone",value:f.phone,onChange:e=>v({...f,phone:e.target.value}),placeholder:"Enter your phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"address",children:"Address"}),(0,a.jsx)(d.p,{id:"address",value:f.address,onChange:e=>v({...f,address:e.target.value}),placeholder:"Enter your address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"city",children:"City"}),(0,a.jsx)(d.p,{id:"city",value:f.city,onChange:e=>v({...f,city:e.target.value}),placeholder:"Enter your city"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"postal_code",children:"Postal Code"}),(0,a.jsx)(d.p,{id:"postal_code",value:f.postal_code,onChange:e=>v({...f,postal_code:e.target.value}),placeholder:"Enter postal code"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"country",children:"Country"}),(0,a.jsxs)(u.l6,{value:f.country,onValueChange:e=>v({...f,country:e}),children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select country"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"Sweden",children:"Sweden"}),(0,a.jsx)(u.eb,{value:"Norway",children:"Norway"}),(0,a.jsx)(u.eb,{value:"Denmark",children:"Denmark"}),(0,a.jsx)(u.eb,{value:"Finland",children:"Finland"}),(0,a.jsx)(u.eb,{value:"Germany",children:"Germany"}),(0,a.jsx)(u.eb,{value:"France",children:"France"}),(0,a.jsx)(u.eb,{value:"United Kingdom",children:"United Kingdom"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,a.jsx)(i.$,{onClick:y,disabled:c,className:"flex-1",children:c?"Saving...":"Save Profile"}),(0,a.jsx)(i.$,{variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"})]})]})]})]})}var v=t(84616),y=t(81586),g=t(5196);function j(e){let{onPaymentMethodSelected:s,selectedMethod:t}=e,[l,d]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[]);let f=async()=>{try{let e=await fetch("/api/user/payment-methods");if(e.ok){let a=await e.json();if(d(a),!t&&a.length>0){let e=a.find(e=>e.is_default)||a[0];s(e)}}}catch(e){console.error("Error fetching payment methods:",e)}finally{c(!1)}},j=async()=>{try{let e=await fetch("/api/user/profile");if(!e.ok){h.o.error("Please add your profile information first");return}let s=await e.json();if(!s.email){h.o.error("Email is required to add payment method");return}let t=await fetch("/api/checkout/setup?email=".concat(encodeURIComponent(s.email),"&name=").concat(encodeURIComponent(s.full_name||"")));if(!t.ok){let e=await t.json();h.o.error(e.error||"Failed to setup payment method");return}let a=await t.json();a.url?window.location.href=a.url:h.o.error("Failed to setup payment method")}catch(e){console.error("Error adding payment method:",e),h.o.error("Failed to add payment method")}};return o?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Payment Method"}),(0,a.jsxs)(x.lG,{open:u,onOpenChange:p,children:[(0,a.jsx)(x.zM,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add Method"]})}),(0,a.jsxs)(x.Cf,{children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Add Payment Method"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Add Payment Method"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"You'll be redirected to Stripe to securely add your payment method. This will be saved for future reservations."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{onClick:j,className:"flex-1",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]}),(0,a.jsx)(i.$,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),0===l.length?(0,a.jsx)(n.Zp,{className:"border-dashed",children:(0,a.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),(0,a.jsxs)(i.$,{onClick:()=>p(!0),children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})]})}):(0,a.jsx)("div",{className:"space-y-3",children:l.map(e=>{var r;return(0,a.jsx)(n.Zp,{className:"cursor-pointer transition-all ".concat((null==t?void 0:t.id)===e.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>s(e),children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.A,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:[null===(r=e.brand)||void 0===r?void 0:r.toUpperCase()," •••• ",e.last4]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Expires ",e.expiry_month,"/",e.expiry_year]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_default&&(0,a.jsx)(m.E,{variant:"default",className:"bg-green-600",children:"Default"}),(null==t?void 0:t.id)===e.id&&(0,a.jsx)(g.A,{className:"w-5 h-5 text-blue-600"})]})]})})},e.id)})}),l.length>0&&(0,a.jsx)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Reservation Checkout:"})," No payment will be charged now. We only charge when the matching pallet is triggered."]})})]})}let b=(0,t(19946).A)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var N=t(4516),w=t(47863),k=t(66474),C=t(17580),A=t(14186);function Z(e){let{zoneId:s,zoneName:t,zoneType:l,centerLat:d,centerLon:o,radiusKm:c,countryCode:u}=e,[x,h]=(0,r.useState)(!1),p={pickup:{title:"Pickup Zone",description:"Where wines are collected from producers",icon:(0,a.jsx)(b,{className:"w-4 h-4"}),color:"blue"},delivery:{title:"Delivery Zone",description:"Where wines are delivered to customers",icon:(0,a.jsx)(N.A,{className:"w-4 h-4"}),color:"green"}}[l];return(0,a.jsxs)(n.Zp,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsx)(n.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-".concat(p.color,"-100"),children:p.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:t}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-normal",children:p.title})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>h(!x),className:"p-1",children:x?(0,a.jsx)(w.A,{className:"w-4 h-4"}):(0,a.jsx)(k.A,{className:"w-4 h-4"})})]})}),x&&(0,a.jsx)(n.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:p.description})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[d&&o&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Coordinates"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[d.toFixed(4),", ",o.toFixed(4)]})]})]}),c&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Coverage"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[c,"km radius"]})]})]}),u&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Country"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:u})]})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:["Zone ID: ",s.substring(0,8),"..."]})})]})})]})}var S=t(37108),P=t(29799),D=t(55868),z=t(72713);function F(e,s){return 0===s?0:Math.round(e/s)}function _(e){return"".concat((e/100).toFixed(2)," SEK")}function E(e){let{pallet:s}=e,[t,l]=(0,r.useState)(!1),d=Math.round(s.currentBottles/s.maxBottles*100),o=s.remainingBottles>0,c=F(s.costCents,s.maxBottles);return(0,a.jsxs)(n.Zp,{className:"border-l-4 ".concat(o?"border-l-green-500":"border-l-red-500"),children:[(0,a.jsx)(n.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(o?"bg-green-100":"bg-red-100"),children:(0,a.jsx)(S.A,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:s.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 font-normal",children:[s.pickupZoneName," → ",s.deliveryZoneName]})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>l(!t),className:"p-1",children:t?(0,a.jsx)(w.A,{className:"w-4 h-4"}):(0,a.jsx)(k.A,{className:"w-4 h-4"})})]})}),t&&(0,a.jsx)(n.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Capacity"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[d,"% full"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(d>=90?"bg-red-500":d>=70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(d,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsxs)("span",{children:[s.currentBottles," bottles"]}),(0,a.jsxs)("span",{children:[s.maxBottles," max"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Pickup Location"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.pickupZoneName})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Delivery Area"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.deliveryZoneName})]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(D.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Shipping Cost"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pallet cost:"}),(0,a.jsx)("span",{className:"font-medium",children:_(s.costCents)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Per bottle:"}),(0,a.jsx)("span",{className:"font-medium text-blue-600",children:_(c)})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Cost divided by ",s.maxBottles," bottles capacity"]})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Availability"})]}),(0,a.jsx)(m.E,{variant:o?"default":"destructive",className:o?"bg-green-100 text-green-800":"",children:o?"".concat(s.remainingBottles," bottles available"):"Full"})]})}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:["Pallet ID: ",s.id.substring(0,8),"..."]})})]})})]})}var M=t(85339);function R(){var e,s,t,x,v,g,b,w,k;let[C,A]=(0,r.useState)(null),[P,D]=(0,r.useState)(!0),[z,R]=(0,r.useState)(null),[I,B]=(0,r.useState)(null),[L,q]=(0,r.useState)(null),[J,T]=(0,r.useState)(!0),[U,$]=(0,r.useState)(!1),[W,K]=(0,r.useState)({street:"",postcode:"",city:"",countryCode:""}),[O,V]=(0,r.useState)({pickupZone:null,deliveryZone:null,selectedDeliveryZoneId:null});(0,l.useSearchParams)(),(0,r.useEffect)(()=>{G(),H()},[]),(0,r.useEffect)(()=>{C&&C.totalQuantity>0&&Y()},[z,W,J,U]);let G=async()=>{try{let e=await fetch("/api/crowdvine/cart");if(e.ok){let s=await e.json();A(s)}}catch(e){console.error("Failed to fetch cart:",e)}finally{D(!1)}},H=async()=>{try{let e=await fetch("/api/user/profile");if(e.ok){let s=await e.json();R(s);let t=s.address&&s.city&&s.postal_code;T(t),$(!t)}}catch(e){console.error("Error fetching profile:",e)}},Y=async()=>{if(C&&0!==C.totalQuantity)try{let e;e=J&&z?{postcode:z.postal_code||"",city:z.city||"",countryCode:"Sweden"===z.country?"SE":"Norway"===z.country?"NO":"Denmark"===z.country?"DK":"Finland"===z.country?"FI":"Germany"===z.country?"DE":"France"===z.country?"FR":"United Kingdom"===z.country?"GB":""}:U?{postcode:W.postcode,city:W.city,countryCode:W.countryCode}:{postcode:"",city:"",countryCode:""};let s=await fetch("/api/checkout/zones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItems:C.lines,deliveryAddress:e})});if(s.ok){let t=await s.json(),a=e.postcode&&e.city&&e.countryCode;V({pickupZone:t.pickupZoneName,deliveryZone:a?t.deliveryZoneName:null,selectedDeliveryZoneId:a?t.deliveryZoneId:null,availableDeliveryZones:a?t.availableDeliveryZones:[],pallets:a?t.pallets:[]})}}catch(e){console.error("Failed to update zone info:",e)}},Q=e=>{R(e),T(!0),$(!1),h.o.success("Profile information saved!")},X=async e=>{if(e.preventDefault(),!(null==z?void 0:z.email)){h.o.error("Please add your profile information first");return}if(!I){h.o.error("Please select a payment method");return}if((J?(null==z?void 0:z.address)&&(null==z?void 0:z.city)&&(null==z?void 0:z.postal_code):W.street&&W.city&&W.postcode&&W.countryCode)&&!O.selectedDeliveryZoneId){h.o.error("No delivery zone matches your address. Please contact support or try a different address.");return}if(O.pallets&&O.pallets.length>0&&!L){h.o.error("Please select a pallet for your reservation.");return}let s=new FormData;s.append("fullName",(null==z?void 0:z.full_name)||""),s.append("email",(null==z?void 0:z.email)||""),s.append("phone",(null==z?void 0:z.phone)||""),J&&z?(s.append("street",z.address||""),s.append("postcode",z.postal_code||""),s.append("city",z.city||""),s.append("countryCode","Sweden"===z.country?"SE":"Norway"===z.country?"NO":"Denmark"===z.country?"DK":"Finland"===z.country?"FI":"Germany"===z.country?"DE":"France"===z.country?"FR":"United Kingdom"===z.country?"GB":"")):(s.append("street",W.street),s.append("postcode",W.postcode),s.append("city",W.city),s.append("countryCode",W.countryCode)),O.selectedDeliveryZoneId&&s.append("selectedDeliveryZoneId",O.selectedDeliveryZoneId),L&&s.append("selectedPalletId",L.id),s.append("paymentMethodId",I.id);try{let e=await fetch("/api/checkout/confirm",{method:"POST",body:s});if(e.ok)h.o.success("Reservation placed successfully!"),window.location.href="/checkout/success";else{let s=await e.json();h.o.error(s.error||"Failed to place reservation")}}catch(e){console.error("Error placing reservation:",e),h.o.error("Failed to place reservation")}};if(P)return(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})});if(!C||0===C.totalQuantity)return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Checkout"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your cart is empty. Please add some items before proceeding to checkout."}),(0,a.jsx)("a",{href:"/",className:"inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Continue Shopping"})]});let ee=(null==z?void 0:z.full_name)&&(null==z?void 0:z.email),es=(null==z?void 0:z.address)&&(null==z?void 0:z.city)&&(null==z?void 0:z.postal_code),et=L?function(e,s){if(!s)return null;let t=e.reduce((e,s)=>e+s.quantity,0);return function(e,s,t){let a=F(e,s),r=a*t;return{palletCostCents:e,palletCostSek:e/100,costPerBottleCents:a,costPerBottleSek:a/100,totalShippingCostCents:r,totalShippingCostSek:r/100,bottlesInPallet:t}}(s.costCents,s.bottleCapacity,t)}(C.lines.map(e=>({quantity:e.quantity})),{id:L.id,name:L.name,costCents:L.costCents,bottleCapacity:L.maxBottles,currentBottles:L.currentBottles,remainingBottles:L.remainingBottles}):null;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 pt-top-spacing space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Complete your wine reservation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5"}),"Order Summary"]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"space-y-3",children:C.lines.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.merchandise.title}),(0,a.jsxs)("span",{className:"text-gray-600 ml-2",children:["x",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-medium",children:[e.cost.totalAmount.amount," ",e.cost.totalAmount.currencyCode]})]},e.id))}),(0,a.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Shipping"}),(0,a.jsx)("span",{className:"text-sm",children:et?(0,a.jsx)("span",{className:"font-medium",children:_(et.totalShippingCostCents)}):(0,a.jsx)("span",{className:"text-gray-400",children:"No pallet chosen"})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[C.cost.totalAmount.amount," ",C.cost.totalAmount.currencyCode]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center font-semibold text-lg border-t pt-2",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:et?(0,a.jsxs)(a.Fragment,{children:[(parseFloat(C.cost.totalAmount.amount)+et.totalShippingCostSek).toFixed(2)," ",C.cost.totalAmount.currencyCode]}):(0,a.jsxs)(a.Fragment,{children:[C.cost.totalAmount.amount," ",C.cost.totalAmount.currencyCode]})})]})]})})]})]}),(O.pickupZone||O.deliveryZone||J&&(null==z?void 0:z.address)&&(null==z?void 0:z.city)&&(null==z?void 0:z.postal_code)||U&&W.street&&W.city&&W.postcode)&&(0,a.jsxs)("div",{className:"space-y-4",children:[O.pickupZone&&(0,a.jsx)(Z,{zoneId:O.pickupZoneId||"",zoneName:O.pickupZone,zoneType:"pickup"}),O.availableDeliveryZones&&O.availableDeliveryZones.length>1?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("p",{className:"font-medium text-green-900 mb-2",children:"Multiple delivery zones available"}),(0,a.jsxs)(u.l6,{value:O.selectedDeliveryZoneId||"",onValueChange:e=>{var s;let t=null===(s=O.availableDeliveryZones)||void 0===s?void 0:s.find(s=>s.id===e);t&&V(s=>({...s,selectedDeliveryZoneId:e,deliveryZone:t.name}))},children:[(0,a.jsx)(u.bq,{className:"w-full",children:(0,a.jsx)(u.yv,{placeholder:"Select delivery zone"})}),(0,a.jsx)(u.gC,{children:O.availableDeliveryZones.map(e=>(0,a.jsxs)(u.eb,{value:e.id,children:[e.name," (",e.radiusKm,"km radius)"]},e.id))})]})]}),O.selectedDeliveryZoneId&&(0,a.jsx)(Z,{zoneId:O.selectedDeliveryZoneId,zoneName:O.deliveryZone||"",zoneType:"delivery",centerLat:null===(e=O.availableDeliveryZones.find(e=>e.id===O.selectedDeliveryZoneId))||void 0===e?void 0:e.centerLat,centerLon:null===(s=O.availableDeliveryZones.find(e=>e.id===O.selectedDeliveryZoneId))||void 0===s?void 0:s.centerLon,radiusKm:null===(t=O.availableDeliveryZones.find(e=>e.id===O.selectedDeliveryZoneId))||void 0===t?void 0:t.radiusKm})]}):O.deliveryZone?(0,a.jsx)(Z,{zoneId:O.selectedDeliveryZoneId||"",zoneName:O.deliveryZone,zoneType:"delivery",centerLat:null===(v=O.availableDeliveryZones)||void 0===v?void 0:null===(x=v[0])||void 0===x?void 0:x.centerLat,centerLon:null===(b=O.availableDeliveryZones)||void 0===b?void 0:null===(g=b[0])||void 0===g?void 0:g.centerLon,radiusKm:null===(k=O.availableDeliveryZones)||void 0===k?void 0:null===(w=k[0])||void 0===w?void 0:w.radiusKm}):J&&(null==z?void 0:z.address)&&(null==z?void 0:z.city)&&(null==z?void 0:z.postal_code)||U&&W.street&&W.city&&W.postcode?(0,a.jsxs)(n.Zp,{className:"border-l-4 border-l-red-500",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-red-700",children:[(0,a.jsx)(M.A,{className:"w-5 h-5"}),"No Delivery Zone Found"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:"No delivery zone matches this address. Please contact support or try a different address."})})]}):null]}),O.pallets&&O.pallets.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5"}),"Available Pallets"]}),L&&(0,a.jsxs)(m.E,{variant:"default",className:"bg-green-100 text-green-800",children:["Selected: ",L.name]})]}),(0,a.jsx)("div",{className:"space-y-3",children:O.pallets.map(e=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E,{pallet:e}),e.remainingBottles>0&&(0,a.jsx)("div",{className:"mt-3 flex justify-center",children:(0,a.jsx)(i.$,{variant:(null==L?void 0:L.id)===e.id?"default":"outline",size:"sm",onClick:()=>q(e),className:(null==L?void 0:L.id)===e.id?"bg-green-600 hover:bg-green-700":"",children:(null==L?void 0:L.id)===e.id?"Selected":"Select This Pallet"})})]},e.id))}),L&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-green-800",children:"Reservation will be added to:"})]}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:[(0,a.jsx)("strong",{children:L.name})," (",L.pickupZoneName," → ",L.deliveryZoneName,")"]}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[L.remainingBottles," bottles available for your order"]})]})]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),"Customer Information"]})}),(0,a.jsx)(n.Wu,{className:"space-y-4",children:ee?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"font-medium",children:z.full_name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-gray-600",children:z.email})]}),z.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-gray-600",children:z.phone})]}),(0,a.jsx)(f,{onProfileSaved:Q,trigger:(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"mt-2",children:"Edit Profile"})})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(M.A,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Profile information missing"}),(0,a.jsx)(f,{onProfileSaved:Q})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-5 h-5"}),"Delivery Address"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[es?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.S,{id:"useProfileAddress",checked:J,onCheckedChange:e=>{T(e),$(!e)}}),(0,a.jsxs)(o.J,{htmlFor:"useProfileAddress",className:"text-sm font-medium",children:["Use profile address: ",null==z?void 0:z.address,", ",null==z?void 0:z.postal_code," ",null==z?void 0:z.city]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.S,{id:"useCustomAddress",checked:U,onCheckedChange:e=>{$(e),T(!e)}}),(0,a.jsx)(o.J,{htmlFor:"useCustomAddress",className:"text-sm font-medium",children:"Use different delivery address"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(M.A,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Delivery address missing from profile"}),(0,a.jsx)(f,{onProfileSaved:Q})]}),U&&(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customStreet",children:"Street Address"}),(0,a.jsx)(d.p,{id:"customStreet",value:W.street,onChange:e=>K({...W,street:e.target.value}),placeholder:"Enter street address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customPostcode",children:"Postal Code"}),(0,a.jsx)(d.p,{id:"customPostcode",value:W.postcode,onChange:e=>K({...W,postcode:e.target.value}),placeholder:"Enter postal code"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customCity",children:"City"}),(0,a.jsx)(d.p,{id:"customCity",value:W.city,onChange:e=>K({...W,city:e.target.value}),placeholder:"Enter city"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"customCountry",children:"Country"}),(0,a.jsxs)(u.l6,{value:W.countryCode,onValueChange:e=>K({...W,countryCode:e}),children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select country"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"SE",children:"Sweden"}),(0,a.jsx)(u.eb,{value:"NO",children:"Norway"}),(0,a.jsx)(u.eb,{value:"DK",children:"Denmark"}),(0,a.jsx)(u.eb,{value:"FI",children:"Finland"}),(0,a.jsx)(u.eb,{value:"DE",children:"Germany"}),(0,a.jsx)(u.eb,{value:"FR",children:"France"}),(0,a.jsx)(u.eb,{value:"GB",children:"United Kingdom"})]})]})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-5 h-5"}),"Payment Method"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(j,{onPaymentMethodSelected:B,selectedMethod:I})})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:"Place Reservation"})]})})]})]})}},35695:(e,s,t)=>{"use strict";var a=t(18999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},37108:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},50883:(e,s,t)=>{"use strict";t.d(s,{E6:()=>r,hs:()=>l,tY:()=>a});let a=[{label:"37\xb047'33.4\"N 122\xb024'18.6\"W",href:"https://maps.app.goo.gl/MnpbPDEHxoDydc9M9"},{label:"(269) 682-1402",href:"https://joyco.studio/showcase"},{label:"Instagram",href:"https://www.instagram.com/joyco.studio/"}],r="Default Title",l={red:"#ef4444",blue:"#3b82f6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",purple:"#a855f7",pink:"#ec4899",black:"#000000",white:"#ffffff",gray:"#6b7280",grey:"#6b7280",brown:"#92400e",navy:"#1e3a8a",teal:"#14b8a6",cyan:"#06b6d4",indigo:"#6366f1",violet:"#8b5cf6",lime:"#84cc16",emerald:"#10b981",rose:"#f43f5e",fuchsia:"#d946ef",slate:"#64748b",neutral:"#737373",stone:"#78716c",zinc:"#71717a","light-blue":"#38bdf8","dark-blue":"#1e40af","light-green":"#4ade80","dark-green":"#232E23","light-gray":"#d1d5db","dark-gray":"#374151","light-grey":"#d1d5db","dark-grey":"#374151","dark-brown":"#6b4a1b",beige:"#f5f5dc",maroon:"#800000",olive:"#808000",aqua:"#00ffff",silver:"#c0c0c0",gold:"#ffd700",coral:"#ff7f50",salmon:"#fa8072",khaki:"#f0e68c",sand:"#e7d3b7",plum:"#dda0dd",tan:"#d2b48c",crimson:"#dc143c",turquoise:"#40e0d0",lavender:"#e6e6fa",ivory:"#fffff0",mint:"#98fb98",peach:"#ffcba4",pistachio:"#93c572",cream:"#edd0ae","army-green":"#4b5320","navy-blue":"#000080",wood:"#8d6e63"}},53999:(e,s,t)=>{"use strict";t.d(s,{cO:()=>n,cn:()=>i,jo:()=>d});var a=t(52596),r=t(39688),l=t(50883);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(e,s){let t=null==s?void 0:s.toString(),a="".concat(t.length?"?":"").concat(t);return"".concat(e).concat(a)}function d(e){if(!e)return"#000000";let s=e.toLowerCase();if(l.hs[s])return l.hs[s];for(let[e,t]of Object.entries(l.hs))if(s.includes(e)||e.includes(s))return t;return"#666666"}},54416:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},55868:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},71007:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},72713:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},72797:(e,s,t)=>{"use strict";t.d(s,{b:()=>d});var a=t(12115);t(47650);var r=t(66634),l=t(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,r.TL)(`Primitive.${s}`),i=a.forwardRef((e,a)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?t:s,{...i,ref:a})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),n=a.forwardRef((e,s)=>(0,l.jsx)(i.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var d=n},81586:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},82714:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(95155),r=t(12115),l=t(72797),i=t(74466),n=t(53999);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),t),...r})});o.displayName=l.b.displayName},84616:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},85339:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},88145:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(95155);t(12115);var r=t(66634),l=t(74466),i=t(53999);let n=(0,l.F)("inline-flex uppercase font-semibold items-center justify-center rounded-md border px-2 py-0.5 text-xs w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground","outline-secondary":"text-base border border-foreground py-0.5 px-2.5 opacity-50"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,asChild:l=!1,...d}=e,o=l?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(n({variant:t}),s),...d})}},88482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var a=t(95155),r=t(12115),l=t(53999);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-md bg-card text-card-foreground",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-4",t),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold text-lg leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-4 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},89852:(e,s,t)=>{"use strict";t.d(s,{j:()=>i,p:()=>n});var a=t(95155),r=t(12115),l=t(53999);let i=(0,t(74466).F)("flex w-full rounded-full transition-[background-color,box-shadow] backdrop-blur-sm duration-200 ease-out bg-primary/20 shadow-sm ring-1 ring-transparent focus-visible:bg-primary/20 focus-visible:ring-1 focus-visible:ring-primary/40 focus-visible:ring-offset-4 focus-visible:ring-offset-black/10 disabled:cursor-not-allowed disabled:opacity-50 md:text-base text-white border-2 border-white/50 h-11 !text-base placeholder:text-white/80 focus:outline-none px-4"),n=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-white px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:!ring-red-500",t),ref:s,...i})});n.displayName="Input"},90255:(e,s,t)=>{Promise.resolve().then(t.bind(t,30506))},95139:(e,s,t)=>{"use strict";t.d(s,{S:()=>d});var a=t(95155),r=t(12115),l=t(9146),i=t(5196),n=t(53999);let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer bg-background h-4 w-4 shrink-0 rounded-sm border border-primary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,a.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},95784:(e,s,t)=>{"use strict";t.d(s,{TR:()=>f,bq:()=>h,eb:()=>v,gC:()=>p,l6:()=>c,mi:()=>y,s3:()=>u,yv:()=>m});var a=t(95155);t(12115);var r=t(15864),l=t(66474),i=t(5196),n=t(47863),d=t(74466),o=t(53999);function c(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...s})}function u(e){let{...s}=e;return(0,a.jsx)(r.YJ,{"data-slot":"select-group",...s})}function m(e){let{...s}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...s})}let x=(0,d.F)("border-input bg-white data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-fit items-center justify-between gap-2 rounded-md border px-3 py-2 text-base md:text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 aria-[invalid=true]:border-red-500 aria-[invalid=true]:focus-visible:ring-red-500",{variants:{size:{sm:"h-8 text-sm",default:"h-10"}},defaultVariants:{size:"default"}});function h(e){let{className:s,size:t,children:i,...n}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger",className:(0,o.cn)(x({size:t,className:s})),...n,children:[i,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"opacity-50 size-4"})})]})}function p(e){let{className:s,children:t,position:l="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover/80 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(g,{}),(0,a.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(j,{})]})})}function f(e){let{className:s,...t}=e;return(0,a.jsx)(r.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",s),...t})}function v(e){let{className:s,children:t,...l}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function y(e){let{className:s,...t}=e;return(0,a.jsx)(r.wv,{"data-slot":"select-separator",className:(0,o.cn)("-mx-1 my-1 h-px pointer-events-none bg-input",s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}function j(e){let{className:s,...t}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex justify-center items-center py-1 cursor-default",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}},97168:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>d});var a=t(95155),r=t(12115),l=t(66634),i=t(74466),n=t(53999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-colors-and-shadows duration-300 ease-out focus-visible:outline-none focus-visible:border-border/15 focus-visible:ring-1 focus-visible:ring-primary/70 focus-visible:ring-offset-4 focus-visible:ring-offset-foreground/20 focus-visible:shadow-button-hover disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-6 [&_svg]:shrink-0 disabled:cursor-not-allowed",{variants:{variant:{default:"border border-border/50 hover:border-border/15 bg-primary/20 focus-visible:bg-primary/30 hover:bg-primary/30 backdrop-blur-sm text-primary ring-1 ring-offset-primary/10 ring-border/10 ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-background/10 backdrop-blur-lg text-foreground hover:bg-background/20",ghost:"font-medium text-foreground/50 hover:bg-accent hover:text-foreground/70 dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",iconButton:"border border-border/50 hover:border-border/15 bg-primary disabled:bg-primary/40 hover:bg-primary backdrop-blur-sm disabled:text-primary-foreground/50 text-primary-foreground ring-1 ring-offset-transparent ring-transparent ring-offset-2 hover:ring-primary/15 hover:ring-offset-4 hover:ring-offset-black/20 shadow-button hover:shadow-button-hover"},size:{sm:"h-8 px-3 text-xs",default:"h-9 px-4 py-2",lg:"h-10 px-8",icon:"size-9","icon-lg":"size-10","icon-xl":"size-11"},shine:{true:"relative overflow-hidden after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-white/20 after:to-transparent after:animate-shine after:pointer-events-none"}},defaultVariants:{variant:"default",size:"default",shine:!1}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,shine:c,...u}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:r,size:i,className:t,shine:c})),ref:s,...u})});o.displayName="Button"},99840:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,L3:()=>h,c7:()=>x,lG:()=>d,zM:()=>o});var a=t(95155),r=t(12115),l=t(26272),i=t(54416),n=t(53999);let d=l.bL,o=l.l9,c=l.ZL;l.bm;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=l.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName=l.VY.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,6421,6272,9440,6671,9146,8441,1684,7358],()=>s(90255)),_N_E=e.O()}]);